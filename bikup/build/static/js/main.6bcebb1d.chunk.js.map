{"version":3,"sources":["Constants/stravaAuth.js","components/LandingComponent/Landing.jsx","actions/actionTypes.js","dispatcher.js","actions/bikeActions.js","stores/authStore.js","actions/authActions.js","components/LoginComponent/Login.jsx","components/RegisterComponent/Register.jsx","components/AuthComponent/AuthStrava.jsx","components/HeaderComponent/Header.jsx","components/ProfileComponent/Profile.jsx","stores/bikeStore.js","components/StandardAside/StandardAside.jsx","components/BikeListComponent/BikeCardComponent/BikeCard.jsx","components/BikeListComponent/BikeList.jsx","components/BikeDetailComponent/CompoCardComponent/CompoCard.jsx","components/BikeDetailComponent/BikeDetail.jsx","components/CompoDetailComponent/DetailCompoCardComponent/DetailCompoCard.jsx","actions/compoActions.js","components/CompoDetailComponent/CompoDetail.jsx","components/BikeListComponent/AddBikeComponents/NewBikeForm.jsx","components/BikeDetailComponent/EditBikeComponent/NewCompoModal.jsx","components/BikeDetailComponent/EditBikeComponent/EditBike.jsx","App.js","serviceWorker.js","index.js"],"names":["STRAVA_AUTH","STRAVA_AUTH_FULL_URL","Landing","history","useHistory","className","to","src","alt","href","onClick","push","dispatcher","Dispatcher","loadUserBikeList","userId","props","params","bikeUserId","axios","get","then","payload","dispatch","type","actionTypes","data","console","log","createNewBike","newBikeInfo","sessionStorage","authUser","_id","JSON","parse","post","newBike","deleteBike","actualBike","bikeId","put","response","editBike","bikeInfo","isNameChanged","addWorkout","updatedBikeValues","bikeTotalMeters","bikeTotalMinutes","workoutMeters","workoutTotalMinutes","workoutInfo","bikeComponentList","forEach","compo","compoAccumulatedMeters","compoAccumulatedMinutes","stringify","loadStravaBikeInfo","bikeList","stravaAccessToken","stravaBikeList","_authUser","_isUserAuth","authStore","callback","this","on","removeListener","emit","EventEmitter","register","action","a","emitChange","createUserWithMail","formData","loginUserWithMail","email","password","isUserAuthWithToken","reqBody","Login","getFormElements","emailInputElement","document","getElementsByClassName","passwordInputElement","submitButtonElement","loadingElement","noLoadingElement","warningMessageElement","disableForm","formElements","disabled","style","display","enableForm","handleSubmit","value","getAuthUser","replace","innerHTML","method","htmlFor","name","event","preventDefault","onKeyUp","keyCode","Create","Account","Register","repeatInputElement","repeat","userResponse","required","placeholder","pattern","onChange","checkRepeatPassword","AuthStrava","useState","stravaUser","setStravaUser","authCode","URLSearchParams","window","location","search","useEffect","addChangeListener","loginOrRegisterUserStrava","Header","handleLogoutClick","clear","menuOptions","text","image","addEventListener","menu","target","parentNode","classList","remove","add","map","option","key","url","link","activeClassName","isUserAuth","Profile","userInfo","setUserInfo","checkIfUserIsAuth","onAuthChange","handleAuthorization","connectStravaButton","connectedWithStrava","profilePicture","username","_bike","_bikeList","_compoDetail","_newBike","_isBikeModified","_isCompoModified","bikeStore","bikeDetail","compoDetail","modifiedStatus","setBikeDetail","setBikeList","setCompoDetail","setNewBike","setIsBikeModified","setIsCompoModified","Object","entries","bike","StandardAside","description","challenge","BikeCard","soonCompo","componentList","compoPercents","percent","component","compoLife","calculateLifePercent","compoType","sort","b","values","find","keys","checkSoonRepair","bikeName","Math","round","compoDisplayName","id","max","bikeLikes","BikeList","setAuthUser","getBikeList","authChange","length","removeChangeListener","CompoCard","compoInfo","actualCompo","userCheck","BikeDetail","bikeDetails","hideModal","visibility","workoutHours","workoutMinutes","isBikeModified","alert","floor","bikeType","bikeBrand","bikeModel","bikeDriveStyle","defaultValue","DetailCompoCard","createNewCompo","newCompo","resetCompo","compoId","localActualCompo","localActualBike","deleteCompo","filter","CompoDetail","setCompoinfo","setBikeInfo","handleResetCompoClick","isCompoModified","compoBrand","compoModel","handleDeleteCompoClick","bikeTypeList","displayText","drivingStyleList","bikeNameElement","bikeTypeElement","drivingStyleElement","bikeBrandElement","bikeModelElement","warningElement","element","NewBikeForm","getNewBike","drivingStyle","validateForm","compoTypes","NewCompoModal","compoTypeElement","compoBrandElement","compoModelElement","compoLifeElement","buttonElement","getCompoDetail","handleCreateCompoClick","bikeTotalKmElement","bikeTotalHoursElement","EditBike","actualBikeInfo","showModal","confirmation","confirm","handleAddCompoClick","handleDeleteClick","App","path","exact","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.6bcebb1d.chunk.js","sourcesContent":["export const STRAVA_AUTH = {\r\n\tCLIENT_ID: '37664',\r\n\tREDIRECT_URL: 'http://localhost:3000/auth/strava',\r\n\tSCOPE: 'read_all,activity:read,profile:read_all',\r\n};\r\n\r\nexport const STRAVA_AUTH_FULL_URL = `http://www.strava.com/oauth/authorize?client_id=${STRAVA_AUTH.CLIENT_ID}&response_type=code&redirect_uri=${STRAVA_AUTH.REDIRECT_URL}&approval_prompt=force&scope=${STRAVA_AUTH.SCOPE}`;\r\n","import React from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { STRAVA_AUTH_FULL_URL } from '../../Constants/stravaAuth';\r\n\r\nimport './Landing.scss';\r\n\r\nfunction Landing() {\r\n\tconst history = useHistory();\r\n\r\n\tfunction handleRegisterClick() {\r\n\t\thistory.push('/register');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='landing'>\r\n\t\t\t<div className='landing__header desktop'>\r\n\t\t\t\t<NavLink to='/' className='header__linkhome'>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName='logo'\r\n\t\t\t\t\t\tsrc='https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png'\r\n\t\t\t\t\t\talt='logo'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p className='appName'>bikUP</p>\r\n\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t<div className='flex-spacer'></div>\r\n\t\t\t\t<NavLink to='/login' className='landing-header-login'>\r\n\t\t\t\t\t<button className='login__button login__button--header'>\r\n\t\t\t\t\t\tLog In\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className='landing__upper mobile'>\r\n\t\t\t\t<NavLink className='login__button' to='/login'>\r\n\t\t\t\t\tLog In\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className='landing__topContent'>\r\n\t\t\t\t<div className='topContent-main'>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName='landing__bikup-logo'\r\n\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53aa4c97b74918797ef889/49939c4bd610049ad5bb132cd4fb6c87/bikup-logo.png'\r\n\t\t\t\t\t\talt='bikUP logo'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<h1>bikUP</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='landing__separator'></div>\r\n\t\t\t\t<h2 className='subtitle'>\"Care for your bike\"</h2>\r\n\t\t\t\t<div className='landing__register--container'>\r\n\t\t\t\t\t<div className='register__strava registerItem'>\r\n\t\t\t\t\t\t<button className='register__btn strava'>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref={STRAVA_AUTH_FULL_URL}\r\n\t\t\t\t\t\t\t\tclassName='button__anchor button__anchor--strava'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className='btn__logo'>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/2f6af477333d585dfbfc19a14da9f857/strava-2.svg'\r\n\t\t\t\t\t\t\t\t\t\talt='google logo'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='btn__text'>\r\n\t\t\t\t\t\t\t\t\tRegister with Strava\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='register__google registerItem'>\r\n\t\t\t\t\t\t<button className='register__btn google'>\r\n\t\t\t\t\t\t\t<div className='btn__logo'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/99c6b9ab576aa9e324980db26e5fc7c0/google-logo.png'\r\n\t\t\t\t\t\t\t\t\talt='google logo'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='btn__text'>\r\n\t\t\t\t\t\t\t\tRegister with Google\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='register__separator'>\r\n\t\t\t\t\t\t<div className='line'></div>\r\n\t\t\t\t\t\t<span className='bold'>Or</span>\r\n\t\t\t\t\t\t<div className='line'></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='register__mail registerItem'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='register__btn mail'\r\n\t\t\t\t\t\t\tonClick={handleRegisterClick}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className='btn__logo'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc='https://image.flaticon.com/icons/svg/561/561127.svg'\r\n\t\t\t\t\t\t\t\t\talt='google logo'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='btn__text'>Create an account</div>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='landing__team'>\r\n\t\t\t\t<h2 className='team__title'>Meet the team</h2>\r\n\t\t\t\t<div className='team__members'>\r\n\t\t\t\t\t<div className='members__item'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53b05ec814da84c46afcea/f2f116196437dddbc62dc5dff303f654/mou.jfif'\r\n\t\t\t\t\t\t\talt='member img'\r\n\t\t\t\t\t\t\tclassName='member__img member__img--mou'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className='member__info'>\r\n\t\t\t\t\t\t\t<p className='member__name'>Mourad Mounim</p>\r\n\t\t\t\t\t\t\t<p className='member__desc'>\"The runner\"</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='members__separator mobile'></div>\r\n\t\t\t\t\t<div className='members__item'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53b05ec814da84c46afcea/e58df585979e8a973502d3aedd008570/gerard.jfif'\r\n\t\t\t\t\t\t\talt='member img'\r\n\t\t\t\t\t\t\tclassName='member__img'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className='member__info'>\r\n\t\t\t\t\t\t\t<p className='member__name'>Gerard Ramon</p>\r\n\t\t\t\t\t\t\t<p className='member__desc'>\"The biker\"</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='landing__footer'>\r\n\t\t\t\t<p>Copyright &copy; bikUP</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Landing;\r\n","export default {\r\n\tLOAD_USER_BIKE_LIST: 'LOAD_USER_BIKE_LIST',\r\n\tLOAD_BIKE_BY_ID: 'LOAD_BIKE_BY_ID',\r\n\tLOAD_COMPO_BY_ID: 'LOAD_COMPO_BY_ID',\r\n\tLOGIN_USER_STRAVA: 'LOGIN_USER_STRAVA',\r\n\tCREATE_USER_MAIL: 'CREATE_USER_MAIL',\r\n\tLOGIN_USER_MAIL: 'LOGIN_USER_MAIL',\r\n\tCHECK_CORRECT_USER: 'CHECK_CORRECT_USER',\r\n\tCREATE_NEW_BIKE: 'CREATE_NEW_BIKE',\r\n\tDELETE_BIKE: 'DELETE_BIKE',\r\n\tADD_WORKOUT: 'ADD_WORKOUT',\r\n\tADD_NEW_COMPO: 'ADD_NEW_COMPO',\r\n\tRESET_COMPO: 'RESET_COMPO',\r\n\tDELETE_COMPO: 'DELETE_COMPO',\r\n\tSTRAVA_LOAD_BIKE_LIST_INFO: 'STRAVA_LOAD_BIKE_LIST_INFO',\r\n};\r\n","import { Dispatcher } from 'flux';\r\n\r\nconst dispatcher = new Dispatcher();\r\n\r\nexport default dispatcher;\r\n","import dispatcher from '../dispatcher';\r\nimport actionTypes from './actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport function loadUserBikeList(userId) {\r\n\tif (!userId) {\r\n\t\tconsole.log('[loadUserBikeList] - userId param is required');\r\n\t\treturn false;\r\n\t} else {\r\n\t\tconst props = {\r\n\t\t\tparams: {\r\n\t\t\t\tbikeUserId: userId,\r\n\t\t\t},\r\n\t\t};\r\n\t\treturn axios.get(`/api/bikes`, props).then((payload) => {\r\n\t\t\tdebugger;\r\n\t\t\tdispatcher.dispatch({\r\n\t\t\t\ttype: actionTypes.LOAD_USER_BIKE_LIST,\r\n\t\t\t\tdata: payload.data,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function loadBikeById(bikeId) {\r\n\treturn axios.get(`/api/bikes/${bikeId}`).then((payload) => {\r\n\t\tdispatcher.dispatch({\r\n\t\t\ttype: actionTypes.LOAD_BIKE_BY_ID,\r\n\t\t\tdata: payload.data,\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport function loadCompoById(bikeId, compoId) {\r\n\treturn axios.get(`/api/bikes/${bikeId}/${compoId}`).then((payload) => {\r\n\t\tdispatcher.dispatch({\r\n\t\t\ttype: actionTypes.LOAD_COMPO_BY_ID,\r\n\t\t\tdata: payload.data,\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport function createNewBike(newBikeInfo) {\r\n\tif (sessionStorage.authUser) {\r\n\t\tconst { _id } = JSON.parse(sessionStorage.authUser);\r\n\t\tconst params = {\r\n\t\t\tnewBikeInfo,\r\n\t\t\t_id,\r\n\t\t};\r\n\t\treturn axios.post(`/api/crud/bike`, params).then((newBike) => {\r\n\t\t\tdispatcher.dispatch({\r\n\t\t\t\ttype: actionTypes.CREATE_NEW_BIKE,\r\n\t\t\t\tdata: newBike.data,\r\n\t\t\t});\r\n\t\t});\r\n\t} else {\r\n\t\tconsole.log('User is not auth');\r\n\t}\r\n}\r\n\r\nexport function deleteBike() {\r\n\tif (sessionStorage.actualBike) {\r\n\t\tconst { _id } = JSON.parse(sessionStorage.actualBike);\r\n\t\tconst params = {\r\n\t\t\tbikeId: _id,\r\n\t\t};\r\n\t\tdebugger;\r\n\t\treturn axios.put('/api/crud/bike/delete', params).then((response) => {\r\n\t\t\tdebugger;\r\n\t\t\tdispatcher.dispatch({\r\n\t\t\t\ttype: actionTypes.DELETE_BIKE,\r\n\t\t\t\tdata: response.data,\r\n\t\t\t});\r\n\t\t});\r\n\t} else {\r\n\t\tconsole.log('There is no loaded bike');\r\n\t}\r\n}\r\n\r\nexport function editBike(bikeInfo, isNameChanged) {\r\n\tif (sessionStorage.actualBike) {\r\n\t\tconst { _id } = JSON.parse(sessionStorage.actualBike);\r\n\r\n\t\tconst params = {\r\n\t\t\tbikeId: _id,\r\n\t\t\tbikeInfo,\r\n\t\t\tisNameChanged,\r\n\t\t};\r\n\t\treturn axios.put('/api/crud/bike/edit', params).then((response) => {\r\n\t\t\tdispatcher.dispatch({\r\n\t\t\t\ttype: actionTypes.DELETE_BIKE,\r\n\t\t\t\tdata: response.data,\r\n\t\t\t});\r\n\t\t});\r\n\t} else {\r\n\t\tconsole.log('There is no loaded bike');\r\n\t}\r\n}\r\n\r\nexport function addWorkout(updatedBikeValues) {\r\n\tif (sessionStorage.actualBike) {\r\n\t\tconst { _id } = JSON.parse(sessionStorage.actualBike);\r\n\t\tconst {\r\n\t\t\tbikeTotalMeters,\r\n\t\t\tbikeTotalMinutes,\r\n\t\t\tworkoutMeters,\r\n\t\t\tworkoutTotalMinutes,\r\n\t\t} = updatedBikeValues;\r\n\r\n\t\tconst params = {\r\n\t\t\tbikeId: _id,\r\n\t\t\tbikeInfo: {\r\n\t\t\t\tbikeTotalMeters,\r\n\t\t\t\tbikeTotalMinutes,\r\n\t\t\t},\r\n\t\t\tworkoutInfo: {\r\n\t\t\t\tworkoutMeters,\r\n\t\t\t\tworkoutTotalMinutes,\r\n\t\t\t},\r\n\t\t};\r\n\t\treturn axios\r\n\t\t\t.put('/api/crud/bike/add-workout', params)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif (response.data) {\r\n\t\t\t\t\tconst actualBike = JSON.parse(sessionStorage.actualBike);\r\n\t\t\t\t\tactualBike.bikeTotalMeters = bikeTotalMeters;\r\n\t\t\t\t\tactualBike.bikeTotalMinutes = bikeTotalMinutes;\r\n\t\t\t\t\tactualBike.bikeComponentList.forEach((compo) => {\r\n\t\t\t\t\t\tcompo.compoAccumulatedMeters += workoutMeters;\r\n\t\t\t\t\t\tcompo.compoAccumulatedMinutes += workoutTotalMinutes;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsessionStorage.actualBike = JSON.stringify(actualBike);\r\n\t\t\t\t}\r\n\t\t\t\tdispatcher.dispatch({\r\n\t\t\t\t\ttype: actionTypes.ADD_WORKOUT,\r\n\t\t\t\t\tdata: response.data,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t} else {\r\n\t\tconsole.log('There is no loaded bike');\r\n\t}\r\n}\r\n\r\nexport function loadStravaBikeInfo(bikeList, stravaAccessToken) {\r\n\tconst props = {\r\n\t\tbikeList,\r\n\t\tstravaAccessToken,\r\n\t};\r\n\treturn axios\r\n\t\t.post('/api/crud/bike/stravaBikeInfo', props)\r\n\t\t.then((stravaBikeList) => {\r\n\t\t\tdispatcher.dispatch({\r\n\t\t\t\ttype: actionTypes.STRAVA_LOAD_BIKE_LIST_INFO,\r\n\t\t\t\tdata: stravaBikeList.data,\r\n\t\t\t});\r\n\t\t});\r\n}\r\n","import actionTypes from '../actions/actionTypes';\r\nimport dispatcher from '../dispatcher';\r\nimport { EventEmitter } from 'events';\r\nimport { loadStravaBikeInfo } from '../actions/bikeActions';\r\n\r\nconst CHANGE_EVENT = 'change';\r\n\r\nlet _authUser = null;\r\nlet _isUserAuth = false;\r\n\r\nclass AuthStore extends EventEmitter {\r\n\taddChangeListener(callback) {\r\n\t\tthis.on(CHANGE_EVENT, callback);\r\n\t}\r\n\r\n\tremoveChangeListener(callback) {\r\n\t\tthis.removeListener(CHANGE_EVENT, callback);\r\n\t}\r\n\r\n\temitChange() {\r\n\t\tthis.emit(CHANGE_EVENT);\r\n\t}\r\n\r\n\tgetAuthUser() {\r\n\t\treturn _authUser;\r\n\t}\r\n\r\n\tisUserAuth() {\r\n\t\treturn _isUserAuth;\r\n\t}\r\n}\r\n\r\nconst authStore = new AuthStore();\r\n\r\ndispatcher.register(async (action) => {\r\n\tswitch (action.type) {\r\n\t\tcase actionTypes.LOGIN_USER_STRAVA:\r\n\t\t\t_authUser = action.data;\r\n\t\t\t_authUser && (sessionStorage.authUser = JSON.stringify(_authUser));\r\n\r\n\t\t\tif (_authUser.bikeList) {\r\n\t\t\t\tawait loadStravaBikeInfo(\r\n\t\t\t\t\t_authUser.bikeList,\r\n\t\t\t\t\t_authUser.stravaAccessToken\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tauthStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tcase actionTypes.LOGIN_USER_MAIL:\r\n\t\t\t_authUser = action.data;\r\n\t\t\t_authUser && (sessionStorage.authUser = JSON.stringify(_authUser));\r\n\t\t\tauthStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tcase actionTypes.CREATE_USER_MAIL:\r\n\t\t\t_authUser = action.data;\r\n\t\t\tsessionStorage.authUser = JSON.stringify(_authUser);\r\n\t\t\tauthStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tcase actionTypes.CHECK_CORRECT_USER:\r\n\t\t\t_isUserAuth = action.data;\r\n\t\t\tauthStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tconsole.log(`There is no action with type: ${action.type}`);\r\n\t\t\tbreak;\r\n\t}\r\n});\r\n\r\nexport default authStore;\r\n","import axios from 'axios';\r\nimport dispatcher from '../dispatcher';\r\nimport actionTypes from './actionTypes';\r\n\r\nexport function loginOrRegisterUserStrava(authCode) {\r\n\tconst params = {\r\n\t\tauthCode,\r\n\t};\r\n\tif (sessionStorage.authUser) {\r\n\t\tconst userId = JSON.parse(sessionStorage.authUser)._id;\r\n\t\tparams.userId = userId;\r\n\t}\r\n\treturn axios.post('/api/auth/strava', params).then((response) => {\r\n\t\tsessionStorage.authUser = JSON.stringify(response.data);\r\n\t\tdispatcher.dispatch({\r\n\t\t\ttype: actionTypes.LOGIN_USER_STRAVA,\r\n\t\t\tdata: response.data,\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport function createUserWithMail(formData) {\r\n\treturn axios.post('/api/auth/mail', formData).then((response) => {\r\n\t\tdispatcher.dispatch({\r\n\t\t\ttype: actionTypes.CREATE_USER_MAIL,\r\n\t\t\tdata: response.data,\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport function loginUserWithMail(email, password) {\r\n\tconst props = {\r\n\t\tparams: {\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t},\r\n\t};\r\n\r\n\treturn axios.get('/api/auth/login/mail', props).then((response) => {\r\n\t\tdispatcher.dispatch({\r\n\t\t\ttype: actionTypes.LOGIN_USER_MAIL,\r\n\t\t\tdata: response.data,\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport function isUserAuthWithToken() {\r\n\tif (sessionStorage.authUser) {\r\n\t\tconst { _id } = JSON.parse(sessionStorage.authUser);\r\n\t\tconst reqBody = {\r\n\t\t\tuserId: _id,\r\n\t\t};\r\n\t\treturn axios.post('/api/auth/check', reqBody).then((response) => {\r\n\t\t\tdispatcher.dispatch({\r\n\t\t\t\ttype: actionTypes.CHECK_CORRECT_USER,\r\n\t\t\t\tdata: response.data,\r\n\t\t\t});\r\n\t\t});\r\n\t} else {\r\n\t\tdispatcher.dispatch({\r\n\t\t\ttype: actionTypes.CHECK_CORRECT_USER,\r\n\t\t\tdata: false,\r\n\t\t});\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport authStore from '../../stores/authStore';\r\nimport { STRAVA_AUTH_FULL_URL } from '../../Constants/stravaAuth';\r\n\r\nimport { loginUserWithMail } from '../../actions/authActions';\r\n\r\nimport './Login.scss';\r\n\r\nfunction Login() {\r\n\tconst history = useHistory();\r\n\r\n\tfunction getFormElements() {\r\n\t\tconst emailInputElement = document.getElementsByClassName(\r\n\t\t\t'login__email'\r\n\t\t)[0];\r\n\t\tconst passwordInputElement = document.getElementsByClassName(\r\n\t\t\t'login__password'\r\n\t\t)[0];\r\n\t\tconst submitButtonElement = document.getElementsByClassName(\r\n\t\t\t'login__submitbutton'\r\n\t\t)[0];\r\n\t\tconst loadingElement = document.getElementsByClassName('loading')[0];\r\n\t\tconst noLoadingElement = document.getElementsByClassName(\r\n\t\t\t'no-loading'\r\n\t\t)[0];\r\n\t\tconst warningMessageElement = document.getElementsByClassName(\r\n\t\t\t'login__warning'\r\n\t\t)[0];\r\n\r\n\t\tconst formElements = {\r\n\t\t\temailInputElement,\r\n\t\t\tpasswordInputElement,\r\n\t\t\tsubmitButtonElement,\r\n\t\t\tloadingElement,\r\n\t\t\tnoLoadingElement,\r\n\t\t\twarningMessageElement,\r\n\t\t};\r\n\t\treturn formElements;\r\n\t}\r\n\r\n\tfunction disableForm(formElements) {\r\n\t\tformElements.emailInputElement.disabled = true;\r\n\t\tformElements.passwordInputElement.disabled = true;\r\n\t\tformElements.submitButtonElement.disabled = true;\r\n\r\n\t\tformElements.loadingElement.style.display = 'flex';\r\n\t\tformElements.noLoadingElement.style.display = 'none';\r\n\t}\r\n\r\n\tfunction enableForm(formElements) {\r\n\t\tformElements.emailInputElement.disabled = false;\r\n\t\tformElements.passwordInputElement.disabled = false;\r\n\t\tformElements.submitButtonElement.disabled = false;\r\n\r\n\t\tformElements.loadingElement.style.display = 'none';\r\n\t\tformElements.noLoadingElement.style.display = 'flex';\r\n\t}\r\n\r\n\tasync function handleSubmit() {\r\n\t\ttry {\r\n\t\t\tconst formElements = getFormElements();\r\n\r\n\t\t\tconst email = formElements.emailInputElement.value;\r\n\t\t\tconst password = formElements.passwordInputElement.value;\r\n\r\n\t\t\tif (email && password) {\r\n\t\t\t\tdisableForm(formElements);\r\n\t\t\t\tawait loginUserWithMail(email, password);\r\n\t\t\t\tconst user = authStore.getAuthUser();\r\n\t\t\t\tif (!user) {\r\n\t\t\t\t\tformElements.warningMessageElement.innerHTML =\r\n\t\t\t\t\t\t'Wrong email or password';\r\n\t\t\t\t\tenableForm(formElements);\r\n\t\t\t\t} else {\r\n\t\t\t\t\thistory.replace('/bikes');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className='landing__header desktop'>\r\n\t\t\t\t<NavLink to='/' className='header__linkhome'>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName='logo'\r\n\t\t\t\t\t\tsrc='https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png'\r\n\t\t\t\t\t\talt='logo'\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<p className='appName'>bikUP</p>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<div className='flex-spacer'></div>\r\n\t\t\t</div>\r\n\t\t\t<div className='register__upper mobile'>\r\n\t\t\t\t<NavLink to='/'>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc='https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png'\r\n\t\t\t\t\t\talt='bikup logo'\r\n\t\t\t\t\t\tclassName='register__logo'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<NavLink to='/' className='register__bikup'>\r\n\t\t\t\t\tbikUP\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className='login'>\r\n\t\t\t\t<div className='login__container'>\r\n\t\t\t\t\t<h1>Log In</h1>\r\n\r\n\t\t\t\t\t<form action='' className='login__form' method='POST'>\r\n\t\t\t\t\t\t<label htmlFor='email' className='input__label'>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tclassName='login__email login__input'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='password' className='input__label'>\r\n\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tclassName='login__password login__input'\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className='login__warning '></div>\r\n\t\t\t\t\t\t<div className='form__bottom'>\r\n\t\t\t\t\t\t\t<NavLink to='/register'>Create an account</NavLink>\r\n\t\t\t\t\t\t\t<div className='flex-spacer'></div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='login__submitbutton'\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\thandleSubmit();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonKeyUp={(event) => {\r\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\tif (event.keyCode === 13) handleSubmit();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className='loading hidden'>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif'\r\n\t\t\t\t\t\t\t\t\t\talt='loading...'\r\n\t\t\t\t\t\t\t\t\t\tclassName='loading__img'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<p>Loading</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='no-loading' Create Account>\r\n\t\t\t\t\t\t\t\t\tLog In\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t<div className='register__separator'>\r\n\t\t\t\t\t\t<div className='line'></div>\r\n\t\t\t\t\t\t<span className='bold'>Or</span>\r\n\t\t\t\t\t\t<div className='line'></div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='login__external'>\r\n\t\t\t\t\t\t<button className='register__btn strava'>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref={STRAVA_AUTH_FULL_URL}\r\n\t\t\t\t\t\t\t\tclassName='button__anchor button__anchor--strava'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className='btn__logo'>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/2f6af477333d585dfbfc19a14da9f857/strava-2.svg'\r\n\t\t\t\t\t\t\t\t\t\talt='google logo'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='btn__text'>\r\n\t\t\t\t\t\t\t\t\tLogin with Strava\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<button className='register__btn google'>\r\n\t\t\t\t\t\t\t<div className='btn__logo'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/99c6b9ab576aa9e324980db26e5fc7c0/google-logo.png'\r\n\t\t\t\t\t\t\t\t\talt='google logo'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='btn__text'>Login with Google</div>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\n\r\nimport authStore from '../../stores/authStore';\r\n\r\nimport { createUserWithMail } from '../../actions/authActions';\r\n\r\nimport './Register.scss';\r\n\r\nfunction Register() {\r\n\tconst history = useHistory();\r\n\r\n\tfunction handleLogoClick() {\r\n\t\thistory.push('/');\r\n\t}\r\n\r\n\tfunction getFormElements() {\r\n\t\tconst emailInputElement = document.getElementsByClassName(\r\n\t\t\t'register__email'\r\n\t\t)[0];\r\n\t\tconst passwordInputElement = document.getElementsByClassName(\r\n\t\t\t'register__password'\r\n\t\t)[0];\r\n\t\tconst repeatInputElement = document.getElementsByClassName(\r\n\t\t\t'register__repeat-password'\r\n\t\t)[0];\r\n\t\tconst submitButtonElement = document.getElementsByClassName(\r\n\t\t\t'form-register__button'\r\n\t\t)[0];\r\n\t\tconst loadingElement = document.getElementsByClassName('loading')[0];\r\n\t\tconst noLoadingElement = document.getElementsByClassName(\r\n\t\t\t'no-loading'\r\n\t\t)[0];\r\n\t\tconst warningMessageElement = document.getElementsByClassName(\r\n\t\t\t'login__warning'\r\n\t\t)[0];\r\n\r\n\t\tconst formElements = {\r\n\t\t\temailInputElement,\r\n\t\t\tpasswordInputElement,\r\n\t\t\trepeatInputElement,\r\n\t\t\tsubmitButtonElement,\r\n\t\t\tloadingElement,\r\n\t\t\tnoLoadingElement,\r\n\t\t\twarningMessageElement,\r\n\t\t};\r\n\r\n\t\treturn formElements;\r\n\t}\r\n\r\n\tfunction disableForm(formElements) {\r\n\t\tformElements.emailInputElement.disabled = true;\r\n\t\tformElements.passwordInputElement.disabled = true;\r\n\t\tformElements.repeatInputElement.disabled = true;\r\n\t\tformElements.submitButtonElement.disabled = true;\r\n\r\n\t\tformElements.loadingElement.style.display = 'flex';\r\n\t\tformElements.noLoadingElement.style.display = 'none';\r\n\t}\r\n\r\n\tfunction enableForm(formElements) {\r\n\t\tformElements.emailInputElement.disabled = false;\r\n\t\tformElements.passwordInputElement.disabled = false;\r\n\t\tformElements.repeatInputElement.disabled = false;\r\n\t\tformElements.submitButtonElement.disabled = false;\r\n\r\n\t\tformElements.loadingElement.style.display = 'none';\r\n\t\tformElements.noLoadingElement.style.display = 'flex';\r\n\t}\r\n\r\n\tasync function handleSubmit() {\r\n\t\tconst formElements = getFormElements();\r\n\r\n\t\tconst email = formElements.emailInputElement.value;\r\n\t\tconst password = formElements.passwordInputElement.value;\r\n\t\tconst repeat = formElements.repeatInputElement.value;\r\n\r\n\t\tif (email && password && repeat) {\r\n\t\t\tif (password !== repeat) {\r\n\t\t\t\tformElements.warningMessageElement.innerHTML =\r\n\t\t\t\t\t'Passwords must match';\r\n\t\t\t} else {\r\n\t\t\t\tdisableForm(formElements);\r\n\r\n\t\t\t\tconst formData = {\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t};\r\n\t\t\t\tawait createUserWithMail(formData);\r\n\t\t\t\tconst userResponse = authStore.getAuthUser();\r\n\t\t\t\tif (typeof userResponse === 'string') {\r\n\t\t\t\t\tformElements.warningMessageElement.innerHTML = userResponse;\r\n\t\t\t\t\tenableForm(formElements);\r\n\t\t\t\t} else {\r\n\t\t\t\t\thistory.replace('/bikes');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction checkRepeatPassword() {\r\n\t\tconst password = document.getElementsByClassName(\r\n\t\t\t'register__password'\r\n\t\t)[0].value;\r\n\t\tconst repeat = document.getElementsByClassName(\r\n\t\t\t'register__repeat-password'\r\n\t\t)[0].value;\r\n\r\n\t\tif (password === repeat) {\r\n\t\t\tdocument.getElementsByClassName('login__warning')[0].innerHTML = '';\r\n\t\t} else {\r\n\t\t\tdocument.getElementsByClassName('login__warning')[0].innerHTML =\r\n\t\t\t\t'Passwords must match';\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className='landing__header desktop'>\r\n\t\t\t\t<NavLink to='/' className='header__linkhome'>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName='logo'\r\n\t\t\t\t\t\tsrc='https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png'\r\n\t\t\t\t\t\talt='logo'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p className='appName'>bikUP</p>\r\n\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t<div className='flex-spacer'></div>\r\n\t\t\t\t<NavLink to='/login' className='landing-header-login'>\r\n\t\t\t\t\t<button className='register__button--header'>Log In</button>\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className='register__upper mobile'>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc='https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png'\r\n\t\t\t\t\talt='bikup logo'\r\n\t\t\t\t\tclassName='register__logo'\r\n\t\t\t\t\tonClick={handleLogoClick}\r\n\t\t\t\t/>\r\n\t\t\t\t<NavLink to='/' className='register__bikup'>\r\n\t\t\t\t\tbikUP\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<div className='flex-spacer'></div>\r\n\t\t\t\t<NavLink className='login__button' to='/login'>\r\n\t\t\t\t\tLog In\r\n\t\t\t\t</NavLink>\r\n\t\t\t</div>\r\n\t\t\t<div className='register'>\r\n\t\t\t\t<div className='register__container'>\r\n\t\t\t\t\t<h1>Create an account</h1>\r\n\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tname='registerForm'\r\n\t\t\t\t\t\taction='/api/auth/mail'\r\n\t\t\t\t\t\tclassName='register__form'\r\n\t\t\t\t\t\tmethod='POST'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='email'\r\n\t\t\t\t\t\t\tclassName='input__label'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tclassName='register__email register__input'\r\n\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\tplaceholder='Enter your email...'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='password' className='input__label'>\r\n\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tclassName='register__password register__input'\r\n\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\tplaceholder='Enter your password...'\r\n\t\t\t\t\t\t\tpattern='^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,12}$'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='repeat-password'\r\n\t\t\t\t\t\t\tclassName='input__label'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tRepeat Password\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tclassName='register__repeat-password register__input'\r\n\t\t\t\t\t\t\tname='repeat_password'\r\n\t\t\t\t\t\t\tplaceholder='Repeat the password...'\r\n\t\t\t\t\t\t\tpattern='^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,12}$'\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\tcheckRepeatPassword();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className='login__warning '></div>\r\n\t\t\t\t\t\t<div className='register__form__bottom'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='form-register__button'\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\thandleSubmit();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className='loading hidden'>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif'\r\n\t\t\t\t\t\t\t\t\t\talt='loading...'\r\n\t\t\t\t\t\t\t\t\t\tclassName='loading__img'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<p>Loading...</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='no-loading' Create Account>\r\n\t\t\t\t\t\t\t\t\tCreate an account\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t<div className='register__separator'>\r\n\t\t\t\t\t\t<div className='line'></div>\r\n\t\t\t\t\t\t<span className='bold'>Or</span>\r\n\t\t\t\t\t\t<div className='line'></div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='register__external'>\r\n\t\t\t\t\t\t<button className='register__btn strava'>\r\n\t\t\t\t\t\t\t<div className='btn__logo'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/2f6af477333d585dfbfc19a14da9f857/strava-2.svg'\r\n\t\t\t\t\t\t\t\t\talt='google logo'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='btn__text'>\r\n\t\t\t\t\t\t\t\tregister with Strava\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t<button className='register__btn google'>\r\n\t\t\t\t\t\t\t<div className='btn__logo'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/99c6b9ab576aa9e324980db26e5fc7c0/google-logo.png'\r\n\t\t\t\t\t\t\t\t\talt='google logo'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='btn__text'>\r\n\t\t\t\t\t\t\t\tregister with Google\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { loginOrRegisterUserStrava } from '../../actions/authActions';\r\nimport { useHistory } from 'react-router-dom';\r\nimport authStore from '../../stores/authStore';\r\n\r\nimport './AuthStrava.scss';\r\n\r\nfunction AuthStrava(props) {\r\n\tconst [stravaUser, setStravaUser] = useState(authStore.getAuthUser());\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst searchParams = new URLSearchParams(window.location.search);\r\n\tconst authCode = searchParams.get('code');\r\n\r\n\tuseEffect(() => {\r\n\t\tauthStore.addChangeListener(onChange);\r\n\t\tif (!stravaUser) {\r\n\t\t\tloginOrRegisterUserStrava(authCode);\r\n\t\t} else {\r\n\t\t\thistory.replace('/bikes');\r\n\t\t}\r\n\t});\r\n\r\n\tfunction onChange() {\r\n\t\tsetStravaUser(authStore.getAuthUser());\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className='auth__header'>\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName='auth__logo'\r\n\t\t\t\t\tsrc='https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png'\r\n\t\t\t\t\talt='logo'\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<p className='auth__appName'>bikUP</p>\r\n\t\t\t\t<div className='flex-spacer'></div>\r\n\t\t\t</div>\r\n\t\t\t<div className='auth__loading'>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/25b7845da50467b914bf64c612ba27eb/Spinner-1s-200px.gif'\r\n\t\t\t\t\talt='loading gif'\r\n\t\t\t\t\tclassName='auth__loading-img'\r\n\t\t\t\t/>\r\n\t\t\t\t<p>Loading account details... This could take a minute</p>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default AuthStrava;\r\n","import React from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\n\r\nimport './Header.scss';\r\n\r\nfunction Header() {\r\n\tconst history = useHistory();\r\n\r\n\tfunction handleLogoutClick() {\r\n\t\tsessionStorage.clear();\r\n\t\thistory.replace('/');\r\n\t}\r\n\r\n\tfunction handleMenuClick() {\r\n\t\tconst menu = document.getElementsByClassName('mobile__menu')[0];\r\n\t\tmenu.style.display = 'block';\r\n\t\tmenu.classList.remove('mobile__menu-hide');\r\n\t\tmenu.classList.add('mobile__menu-show');\r\n\t}\r\n\r\n\tfunction handleDecoratorClick() {\r\n\t\tconst menu = document.getElementsByClassName('mobile__menu')[0];\r\n\t\tmenu.classList.remove('mobile__menu-show');\r\n\t\tmenu.classList.add('mobile__menu-hide');\r\n\t}\r\n\r\n\tconst mobileNav = [\r\n\t\t{\r\n\t\t\ttext: 'ExploreMobile',\r\n\t\t\turl: '/bikes',\r\n\t\t\timage:\r\n\t\t\t\t'https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53d188f7827833bd79ef9b/214746d15b751953f02eb252fb879874/magnifying-glass.png',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: 'MyBikesMobile',\r\n\t\t\turl: '/bikes',\r\n\t\t\timage:\r\n\t\t\t\t'https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53d188f7827833bd79ef9b/ca1db79d00b304cb995a7491f0ce71a0/bike.png',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttext: 'ProfileMobile',\r\n\t\t\turl: '/user',\r\n\t\t\timage:\r\n\t\t\t\t'https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53d188f7827833bd79ef9b/e60b6c14d78fa03c5a1ae02b95f9cbca/user.png',\r\n\t\t},\r\n\t];\r\n\r\n\tconst desktopNav = [\r\n\t\t{ text: 'My Bikes', url: '/bikes', image: '' },\r\n\t\t{ text: 'Explore', url: '/search', image: '' },\r\n\t\t{ text: 'Profile', url: '/user', image: '' },\r\n\t];\r\n\r\n\tconst menuOptions = [\r\n\t\t{\r\n\t\t\ttext: 'Logout',\r\n\t\t\tcallback: handleLogoutClick,\r\n\t\t\timage:\r\n\t\t\t\t'https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5a496d520b7b130a5d4819/7f0d35433cdacef755bec9d18cbcce2c/logout.png',\r\n\t\t},\r\n\t];\r\n\r\n\twindow.addEventListener('mouseup', function (event) {\r\n\t\tconst menu = document.getElementsByClassName('mobile__menu')[0];\r\n\t\tif (event.target != menu && event.target.parentNode != menu) {\r\n\t\t\tmenu && menu.classList.remove('mobile__menu-show');\r\n\t\t\tmenu && menu.classList.add('mobile__menu-hide');\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className='mobile__menu'>\r\n\t\t\t\t<div className='menu__decorator' onClick={handleDecoratorClick}>\r\n\t\t\t\t\t<div className='decorator__line'></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul className='menu__list'>\r\n\t\t\t\t\t{menuOptions.map((option) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\tclassName='menu__option'\r\n\t\t\t\t\t\t\t\tkey={`menu-${option.text}`}\r\n\t\t\t\t\t\t\t\tonClick={option.callback}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={option.image}\r\n\t\t\t\t\t\t\t\t\talt={option.text}\r\n\t\t\t\t\t\t\t\t\tclassName='option__img'\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<p className='option__p'>{option.text}</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<header className='header'>\r\n\t\t\t\t<div className='header__mobile'>\r\n\t\t\t\t\t<div className='mobile__nav'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName='logo'\r\n\t\t\t\t\t\t\tsrc='https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png'\r\n\t\t\t\t\t\t\talt='logo'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{mobileNav.map((link) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\tto={link.url}\r\n\t\t\t\t\t\t\t\t\tkey={link.text}\r\n\t\t\t\t\t\t\t\t\tactiveClassName='active--mobile'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={link.image}\r\n\t\t\t\t\t\t\t\t\t\talt={link.text}\r\n\t\t\t\t\t\t\t\t\t\tclassName='nav__item'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName='nav__menu'\r\n\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53d188f7827833bd79ef9b/ea9ccf0f7a5fe6c8d066bb89f204f504/open-menu.png'\r\n\t\t\t\t\t\t\talt='menu'\r\n\t\t\t\t\t\t\tonClick={handleMenuClick}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='header__desktop'>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName='logo'\r\n\t\t\t\t\t\tsrc='https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png'\r\n\t\t\t\t\t\talt='logo'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p className='appName'>bikUP</p>\r\n\t\t\t\t\t<ul className='header__navigation'>\r\n\t\t\t\t\t\t{desktopNav.map((link) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\tkey={link.text}\r\n\t\t\t\t\t\t\t\t\tclassName='navigation__item'\r\n\t\t\t\t\t\t\t\t\tactiveClassName='active-desktop'\r\n\t\t\t\t\t\t\t\t\tto={link.url}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{link.text}\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div className='flex-spacer'></div>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='login__button login__button--header'\r\n\t\t\t\t\t\tonClick={handleLogoutClick}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLog Out\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { isUserAuthWithToken } from '../../actions/authActions';\r\nimport authStore from '../../stores/authStore';\r\n\r\nimport './Profile.scss';\r\n\r\nimport Header from '../HeaderComponent/Header';\r\n\r\nlet isUserAuth = null;\r\nlet userCheck = false;\r\nlet outterUserInfo = null;\r\n\r\nfunction Profile() {\r\n\tlet [userInfo, setUserInfo] = useState();\r\n\r\n\tconst history = useHistory();\r\n\r\n\tasync function handleAuthorization() {\r\n\t\tawait checkIfUserIsAuth();\r\n\t}\r\n\r\n\tasync function checkIfUserIsAuth() {\r\n\t\tawait isUserAuthWithToken();\r\n\t\tisUserAuth = authStore.isUserAuth();\r\n\t\tif (!isUserAuth) {\r\n\t\t\thistory.replace('/login');\r\n\t\t} else {\r\n\t\t\tuserCheck = true;\r\n\t\t\tuserInfo = JSON.parse(sessionStorage.authUser);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tauthStore.addChangeListener(onAuthChange);\r\n\t\thandleAuthorization();\r\n\t}, [isUserAuth]);\r\n\r\n\tfunction onAuthChange() {\r\n\t\tisUserAuth = authStore.isUserAuth();\r\n\t\tisUserAuth &&\r\n\t\t\tsetUserInfo((userInfo = JSON.parse(sessionStorage.authUser)));\r\n\t}\r\n\r\n\tconst connectStravaButton = (\r\n\t\t<img\r\n\t\t\tclassName='strava__connect-btn'\r\n\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f4f63b8021a9d482184baf2/3cca3ad9320164155dfbb9d09ff7982f/btn_strava_connectwith_orange%402x.png'\r\n\t\t\talt='connect with strava'\r\n\t\t/>\r\n\t);\r\n\r\n\tconst connectedWithStrava = (\r\n\t\t<p className='connected'>Connected with Strava</p>\r\n\t);\r\n\r\n\treturn (\r\n\t\t(userInfo && (\r\n\t\t\t<>\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<div className='general-container'>\r\n\t\t\t\t\t<div className='profile'>\r\n\t\t\t\t\t\t<div className='profile__container'>\r\n\t\t\t\t\t\t\t<div className='profile__picture'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName='picture__img'\r\n\t\t\t\t\t\t\t\t\tsrc={userInfo.profilePicture}\r\n\t\t\t\t\t\t\t\t\talt='User profile picture'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='profile__main'>\r\n\t\t\t\t\t\t\t\t<h3 className='main__username'>\r\n\t\t\t\t\t\t\t\t\t{userInfo.username}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<div className='main__info'>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t{userInfo.stravaAccessToken\r\n\t\t\t\t\t\t\t\t\t\t\t? connectedWithStrava\r\n\t\t\t\t\t\t\t\t\t\t\t: connectStravaButton}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='profile__edit'>\r\n\t\t\t\t\t\t\t\t<button className='edit__button'>\r\n\t\t\t\t\t\t\t\t\tEdit Profile\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)) || <p>loading...</p>\r\n\t);\r\n}\r\n\r\nexport default Profile;\r\n","import actionTypes from '../actions/actionTypes';\r\nimport dispatcher from '../dispatcher';\r\nimport { EventEmitter } from 'events';\r\n\r\nimport { createNewBike } from '../actions/bikeActions';\r\n\r\nconst CHANGE_EVENT = 'change';\r\n\r\nlet _bike = {};\r\nlet _bikeList = [];\r\nlet _compoDetail = {};\r\nlet _newBike = {};\r\nlet _isBikeModified = null;\r\nlet _isCompoModified = null;\r\n\r\nclass BikeStore extends EventEmitter {\r\n\taddChangeListener(callback) {\r\n\t\tthis.on(CHANGE_EVENT, callback);\r\n\t}\r\n\r\n\tremoveChangeListener(callback) {\r\n\t\tthis.removeListener(CHANGE_EVENT, callback);\r\n\t}\r\n\r\n\temitChange() {\r\n\t\tthis.emit(CHANGE_EVENT);\r\n\t}\r\n\r\n\tsetBikeList(bikeList) {\r\n\t\t_bikeList = bikeList;\r\n\t}\r\n\tgetBikeList() {\r\n\t\treturn _bikeList;\r\n\t}\r\n\r\n\tsetBikeDetail(bikeDetail) {\r\n\t\t_bike = bikeDetail;\r\n\t}\r\n\tgetBikeDetail() {\r\n\t\treturn _bike;\r\n\t}\r\n\r\n\tsetCompoDetail(compoDetail) {\r\n\t\t_compoDetail = compoDetail;\r\n\t}\r\n\tgetCompoDetail() {\r\n\t\treturn _compoDetail;\r\n\t}\r\n\r\n\tsetNewBike(newBike) {\r\n\t\t_newBike = newBike;\r\n\t}\r\n\tgetNewBike() {\r\n\t\treturn _newBike;\r\n\t}\r\n\r\n\tsetIsBikeModified(modifiedStatus) {\r\n\t\t_isBikeModified = modifiedStatus;\r\n\t}\r\n\tisBikeModified() {\r\n\t\treturn _isBikeModified;\r\n\t}\r\n\r\n\tsetIsCompoModified(modifiedStatus) {\r\n\t\t_isCompoModified = modifiedStatus;\r\n\t}\r\n\tisCompoModified() {\r\n\t\treturn _isCompoModified;\r\n\t}\r\n}\r\n\r\nconst bikeStore = new BikeStore();\r\n\r\ndispatcher.register((action) => {\r\n\tswitch (action.type) {\r\n\t\tcase actionTypes.LOAD_BIKE_BY_ID:\r\n\t\t\tbikeStore.setBikeDetail(action.data);\r\n\t\t\tbikeStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tcase actionTypes.LOAD_USER_BIKE_LIST:\r\n\t\t\tbikeStore.setBikeList(action.data);\r\n\t\t\tbikeStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tcase actionTypes.LOAD_COMPO_BY_ID:\r\n\t\t\tbikeStore.setCompoDetail(action.data);\r\n\t\t\tbikeStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tcase actionTypes.CREATE_NEW_BIKE:\r\n\t\t\tbikeStore.setNewBike(action.data);\r\n\t\t\tbikeStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tcase actionTypes.DELETE_BIKE:\r\n\t\t\tdebugger;\r\n\t\t\tbikeStore.setIsBikeModified(action.data);\r\n\t\t\tbikeStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tcase actionTypes.ADD_WORKOUT:\r\n\t\t\tbikeStore.setIsBikeModified(action.data);\r\n\t\t\tbikeStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tcase actionTypes.ADD_NEW_COMPO:\r\n\t\t\tbikeStore.setCompoDetail(action.data);\r\n\t\t\tbikeStore.emitChange();\r\n\t\t\tbreak;\r\n\t\tcase actionTypes.RESET_COMPO:\r\n\t\t\tbikeStore.setIsCompoModified(action.data);\r\n\t\t\tbikeStore.emitChange();\r\n\t\t\tbreak;\r\n\r\n\t\tcase actionTypes.DELETE_COMPO:\r\n\t\t\tbikeStore.setIsCompoModified(action.data);\r\n\t\t\tbikeStore.emitChange();\r\n\t\t\tbreak;\r\n\r\n\t\tcase actionTypes.STRAVA_LOAD_BIKE_LIST_INFO:\r\n\t\t\tif (action.data) {\r\n\t\t\t\tObject.entries(action.data).forEach((bike) => {\r\n\t\t\t\t\tcreateNewBike(bike[1]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tconsole.log(`There is no action with type: ${action.type}`);\r\n\t\t\tbreak;\r\n\t}\r\n});\r\n\r\nexport default bikeStore;\r\n","import React from 'react';\r\nimport './StandardAside.scss';\r\n\r\nfunction StandardAside() {\r\n    const challenges = [\r\n        {\r\n            name: 'BIrlfriend',\r\n            description: 'Travel 5000km with a bike'\r\n        },\r\n        {\r\n            name: 'CompoManiac',\r\n            description: 'Change the same component 3 times'\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"standardaside\">\r\n            <div className=\"standardaside__card-container\">\r\n                <h3 className=\"title\">Challenges</h3>\r\n                <div className=\"standardaside__card\">\r\n                    {challenges.map((challenge) => {\r\n                        return (\r\n                            <div key={challenge.name}>\r\n                                <div className=\"challenges__item\">\r\n                                    <div className=\"item__title\">\r\n                                        <img\r\n                                            className=\"title__img\"\r\n                                            src=\"https://image.flaticon.com/icons/svg/3112/3112946.svg\"\r\n                                            alt=\"trophy\"\r\n                                        />\r\n                                        - {challenge.name} -\r\n                                    </div>\r\n                                    <p>{challenge.description}</p>\r\n                                </div>\r\n                                <div className=\"separator\"></div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"standardaside__card-container\">\r\n                <h3 className=\"title\">Give Away</h3>\r\n                <div className=\"standardaside__card\">\r\n                    <p>something free</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StandardAside;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './BikeCard.scss';\r\n\r\nfunction calculateLifePercent(component) {\r\n\tconst { compoLife, compoAccumulatedMeters } = component;\r\n\r\n\treturn compoAccumulatedMeters / compoLife;\r\n}\r\n\r\nfunction checkSoonRepair(componentList) {\r\n\tconst compoPercents = componentList.map((compo) => {\r\n\t\tconst percent = calculateLifePercent(compo);\r\n\t\treturn { [compo.compoType]: percent };\r\n\t});\r\n\r\n\tcompoPercents.sort(function (a, b) {\r\n\t\treturn Object.values(b)[0] - Object.values(a)[0];\r\n\t});\r\n\r\n\treturn componentList.find((compo) => {\r\n\t\treturn compo.compoType === Object.keys(compoPercents[0])[0];\r\n\t});\r\n}\r\n\r\nfunction BikeCard({ bikeInfo }) {\r\n\tlet soonCompo = null;\r\n\tfunction handleClick(bikeId) {\r\n\t\tsessionStorage.actualBike = JSON.stringify(bikeInfo);\r\n\t}\r\n\r\n\tif (bikeInfo.bikeComponentList) {\r\n\t\tsoonCompo = checkSoonRepair(bikeInfo.bikeComponentList);\r\n\t}\r\n\treturn (\r\n\t\t(soonCompo && (\r\n\t\t\t<div className='bikecard__container'>\r\n\t\t\t\t<div className='bikecard'>\r\n\t\t\t\t\t<div className='bikecard__top'>\r\n\t\t\t\t\t\t<p className='top__name'>{bikeInfo.bikeName}</p>\r\n\t\t\t\t\t\t<p className='top__km'>\r\n\t\t\t\t\t\t\t{Math.round(bikeInfo.bikeTotalMeters / 1000)} Km\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='bikecard__separator'></div>\r\n\t\t\t\t\t<div className='bikecard__repair'>\r\n\t\t\t\t\t\t<div className='repair__labbels'>\r\n\t\t\t\t\t\t\t<p>Check Soon</p>\r\n\t\t\t\t\t\t\t<p className='labbels__value'>\r\n\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{Math.round(\r\n\t\t\t\t\t\t\t\t\tsoonCompo.compoAccumulatedMeters / 1000\r\n\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t/{soonCompo.compoLife / 1000} Km)\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='repair__progress'>\r\n\t\t\t\t\t\t\t<p className='displayName'>\r\n\t\t\t\t\t\t\t\t{soonCompo.compoDisplayName}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<progress\r\n\t\t\t\t\t\t\t\tid='bikecard_progress'\r\n\t\t\t\t\t\t\t\tvalue={soonCompo.compoAccumulatedMeters / 1000}\r\n\t\t\t\t\t\t\t\tmax={soonCompo.compoLife / 1000}\r\n\t\t\t\t\t\t\t></progress>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='bikecard__bottom'>\r\n\t\t\t\t\t\t<div className='bottom__likes'>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName='likes__img'\r\n\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f4f9c254b020643891c14bc/90b81067b9d4a63e2284da24c9994e7f/heart.png'\r\n\t\t\t\t\t\t\t\talt='likes'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<span className='likes__count'>\r\n\t\t\t\t\t\t\t\t{bikeInfo.bikeLikes}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='bottom__details'>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tclassName='details__button'\r\n\t\t\t\t\t\t\t\tto={`/bikes/${bikeInfo.bikeName.replace(\r\n\t\t\t\t\t\t\t\t\t/ /g,\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\tonClick={() => handleClick(bikeInfo._id)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tGo to Bike\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)) || <p>Oops! We couldn't load {bikeInfo.bikeName}...</p>\r\n\t);\r\n}\r\n\r\nexport default BikeCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport bikeStore from '../../stores/bikeStore';\r\nimport authStore from '../../stores/authStore';\r\nimport { loadUserBikeList } from '../../actions/bikeActions';\r\nimport { isUserAuthWithToken } from '../../actions/authActions';\r\nimport { useHistory, NavLink } from 'react-router-dom';\r\nimport { STRAVA_AUTH_FULL_URL } from '../../Constants/stravaAuth';\r\n\r\nimport Header from '../HeaderComponent/Header';\r\nimport StandardAside from '../StandardAside/StandardAside';\r\nimport BikeCard from './BikeCardComponent/BikeCard';\r\n\r\nimport '../../App.scss';\r\nimport './BikeList.scss';\r\n\r\nlet userCheck = false;\r\nlet isUserAuth = null;\r\nlet userId = '';\r\n\r\nfunction BikeList(props) {\r\n\tconst [bikeList, setBikeList] = useState([]);\r\n\tconst bikeListtemp = [];\r\n\tconst [authUser, setAuthUser] = useState();\r\n\r\n\tconst history = useHistory();\r\n\r\n\tasync function handleAuthorization() {\r\n\t\tawait checkIfUserIsAuth();\r\n\t}\r\n\r\n\tasync function checkIfUserIsAuth() {\r\n\t\tawait isUserAuthWithToken();\r\n\t\tisUserAuth = authStore.isUserAuth();\r\n\t\tif (!isUserAuth) {\r\n\t\t\thistory.replace('/login');\r\n\t\t} else {\r\n\t\t\tuserCheck = true;\r\n\t\t\tuserId = JSON.parse(sessionStorage.authUser)._id;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\thandleAuthorization();\r\n\r\n\t\tbikeStore.addChangeListener(onChange);\r\n\t\tauthStore.addChangeListener(authChange);\r\n\r\n\t\tif (bikeList.length === 0) {\r\n\t\t\tloadUserBikeList(userId);\r\n\t\t}\r\n\t\tlet timer = null;\r\n\r\n\t\treturn () => {\r\n\t\t\tbikeStore.removeChangeListener(onChange);\r\n\t\t\tauthStore.removeChangeListener(authChange);\r\n\t\t\ttimer && clearTimeout(timer);\r\n\t\t};\r\n\t}, [isUserAuth]);\r\n\r\n\tfunction onChange() {\r\n\t\tdebugger;\r\n\t\tsetBikeList(bikeStore.getBikeList());\r\n\t}\r\n\r\n\tfunction authChange() {\r\n\t\tisUserAuth = authStore.isUserAuth();\r\n\t\tif (isUserAuth) {\r\n\t\t\tuserId = JSON.parse(sessionStorage.authUser)._id;\r\n\t\t\tsetAuthUser(JSON.parse(sessionStorage.authUser));\r\n\t\t\tloadUserBikeList(userId);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction renderBikeList(bikeListRender) {\r\n\t\tconst renderedBikeList = bikeListRender.map((bike) => {\r\n\t\t\treturn (\r\n\t\t\t\t<BikeCard key={`bikelist-${bike.bikeName}`} bikeInfo={bike} />\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn renderedBikeList;\r\n\t}\r\n\r\n\tconst connectStravaButton = (\r\n\t\t<a href={STRAVA_AUTH_FULL_URL}>\r\n\t\t\t<img\r\n\t\t\t\tclassName='strava__connect-btn'\r\n\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f4f63b8021a9d482184baf2/3cca3ad9320164155dfbb9d09ff7982f/btn_strava_connectwith_orange%402x.png'\r\n\t\t\t\talt='connect with strava'\r\n\t\t\t/>\r\n\t\t</a>\r\n\t);\r\n\r\n\tconst connectedWithStrava = (\r\n\t\t<p className='connected'>Connected with Strava</p>\r\n\t);\r\n\r\n\treturn (\r\n\t\tbikeList && (\r\n\t\t\t<>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<div className='bikelist'>\r\n\t\t\t\t\t<div className='bikelist__content'>\r\n\t\t\t\t\t\t<div className='bikelist__top'>\r\n\t\t\t\t\t\t\t<h2>Your Bikes</h2>\r\n\t\t\t\t\t\t\t{authUser &&\r\n\t\t\t\t\t\t\t\t(authUser.stravaAccessToken\r\n\t\t\t\t\t\t\t\t\t? connectedWithStrava\r\n\t\t\t\t\t\t\t\t\t: connectStravaButton)}\r\n\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tclassName='bikelist__add--desktop desktop'\r\n\t\t\t\t\t\t\t\tto='/bikes/new-bike'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t+ Add new bike\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='bikelist__cards'>\r\n\t\t\t\t\t\t\t{bikeList.length > 0 ? (\r\n\t\t\t\t\t\t\t\trenderBikeList(bikeList)\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className='loadingscreen'>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/25b7845da50467b914bf64c612ba27eb/Spinner-1s-200px.gif'\r\n\t\t\t\t\t\t\t\t\t\talt='loading gif'\r\n\t\t\t\t\t\t\t\t\t\tclassName='loading__giff'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<p className='bikelist__loading'>\r\n\t\t\t\t\t\t\t\t\t\tLoading bike list...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className='bikelist__nobikes hidden'>\r\n\t\t\t\t\t\t\t\t\t\tOops! Seems that you don't have any bike\r\n\t\t\t\t\t\t\t\t\t\tyet <br />\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\tTry adding a new one\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\tto='/bikes/new-bike'\r\n\t\t\t\t\t\t\tclassName='bikelist__add mobile'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t+ Add new bike\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='bikelist__challenges-giveaways'>\r\n\t\t\t\t\t\t<StandardAside />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t);\r\n}\r\n\r\nexport default BikeList;\r\n","import React from 'react';\r\nimport './CompoCard.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction CompoCard({ compoInfo, bikeName }) {\r\n\tfunction handleClick() {\r\n\t\tsessionStorage.actualCompo = JSON.stringify(compoInfo);\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className='compocard'>\r\n\t\t\t\t<div className='compocard__content'>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc='https://image.flaticon.com/icons/svg/2623/2623442.svg'\r\n\t\t\t\t\t\talt='compo img'\r\n\t\t\t\t\t\tclassName='compocard__img'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className='compocard__info'>\r\n\t\t\t\t\t\t<div className='compocard__labels'>\r\n\t\t\t\t\t\t\t<p>{compoInfo.compoDisplayName}</p>\r\n\r\n\t\t\t\t\t\t\t<p className='labels__status'>\r\n\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t{Math.round(\r\n\t\t\t\t\t\t\t\t\tcompoInfo.compoAccumulatedMeters / 1000\r\n\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t/{compoInfo.compoLife / 1000} Km)\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='info__progressbar'>\r\n\t\t\t\t\t\t\t<progress\r\n\t\t\t\t\t\t\t\tid='progress'\r\n\t\t\t\t\t\t\t\tvalue={compoInfo.compoAccumulatedMeters / 1000}\r\n\t\t\t\t\t\t\t\tmax={compoInfo.compoLife / 1000}\r\n\t\t\t\t\t\t\t></progress>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tclassName='compocard__button'\r\n\t\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\t\tto={`/bikes/${bikeName.replace(\r\n\t\t\t\t\t\t\t/ /g,\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}/${compoInfo.compoDisplayName.replace(/ /g, '')}`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName='button__img'\r\n\t\t\t\t\t\t\tsrc='https://image.flaticon.com/icons/svg/271/271228.svg'\r\n\t\t\t\t\t\t\talt='>'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default CompoCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { isUserAuthWithToken } from '../../actions/authActions';\r\n\r\nimport bikeStore from '../../stores/bikeStore';\r\nimport authStore from '../../stores/authStore';\r\n\r\nimport Header from '../HeaderComponent/Header';\r\nimport CompoCard from './CompoCardComponent/CompoCard';\r\nimport StandardAside from '../StandardAside/StandardAside';\r\n\r\nimport '../../App.scss';\r\nimport './BikeDetail.scss';\r\nimport { addWorkout } from '../../actions/bikeActions';\r\n\r\nlet userCheck = false;\r\nlet isUserAuth = null;\r\n\r\nfunction BikeDetail(props) {\r\n\tconst [bikeDetails, setBikeDetail] = useState({});\r\n\r\n\tconst history = useHistory();\r\n\r\n\tasync function handleAuthorization() {\r\n\t\tif (!userCheck) {\r\n\t\t\tawait checkIfUserIsAuth();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function checkIfUserIsAuth() {\r\n\t\tawait isUserAuthWithToken();\r\n\t\tisUserAuth = authStore.isUserAuth();\r\n\t\tif (!isUserAuth) {\r\n\t\t\thistory.replace('/login');\r\n\t\t}\r\n\t\tuserCheck = true;\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\thandleAuthorization();\r\n\r\n\t\tbikeStore.addChangeListener(onChange);\r\n\r\n\t\tif (sessionStorage.actualBike) {\r\n\t\t\tsetBikeDetail(JSON.parse(sessionStorage.actualBike));\r\n\t\t}\r\n\r\n\t\treturn () => bikeStore.removeChangeListener(onChange);\r\n\t}, [userCheck]);\r\n\r\n\tfunction onChange() {\r\n\t\tsetBikeDetail(JSON.parse(sessionStorage.actualBike));\r\n\t}\r\n\r\n\tfunction hideModal() {\r\n\t\tdocument.getElementsByClassName('float__button')[0].style.visibility =\r\n\t\t\t'visible';\r\n\r\n\t\tdocument.getElementsByClassName('darken__back')[0].style.display =\r\n\t\t\t'none';\r\n\t\tdocument\r\n\t\t\t.getElementsByClassName('addworkout__container')[0]\r\n\t\t\t.classList.remove('addworkout__container-shown');\r\n\t\tdocument\r\n\t\t\t.getElementsByClassName('addworkout__container')[0]\r\n\t\t\t.classList.add('addworkout__container-hidden');\r\n\t}\r\n\r\n\tfunction showModal() {\r\n\t\tdocument.getElementsByClassName('float__button')[0].style.visibility =\r\n\t\t\t'hidden';\r\n\r\n\t\tdocument.getElementsByClassName('darken__back')[0].style.display =\r\n\t\t\t'block';\r\n\t\tdocument\r\n\t\t\t.getElementsByClassName('addworkout__container')[0]\r\n\t\t\t.classList.remove('addworkout__container-hidden');\r\n\t\tdocument\r\n\t\t\t.getElementsByClassName('addworkout__container')[0]\r\n\t\t\t.classList.add('addworkout__container-shown');\r\n\t}\r\n\r\n\tasync function handleWorkoutClick() {\r\n\t\tconst workoutMeters =\r\n\t\t\tdocument.getElementsByClassName('addworkout__km-input')[0].value *\r\n\t\t\t1000;\r\n\t\tconst workoutHours = +document.getElementsByClassName(\r\n\t\t\t'addworkout__hours-input'\r\n\t\t)[0].value;\r\n\t\tconst workoutMinutes = +document.getElementsByClassName(\r\n\t\t\t'addworkout__minutes-input'\r\n\t\t)[0].value;\r\n\r\n\t\tconst workoutTotalMinutes = workoutHours * 60 + workoutMinutes;\r\n\t\tconst updatedBikeValues = {\r\n\t\t\tworkoutMeters,\r\n\t\t\tworkoutTotalMinutes,\r\n\t\t\tbikeTotalMeters: bikeDetails.bikeTotalMeters + workoutMeters,\r\n\t\t\tbikeTotalMinutes:\r\n\t\t\t\tbikeDetails.bikeTotalMinutes + workoutTotalMinutes,\r\n\t\t};\r\n\r\n\t\t//posar el loading\r\n\r\n\t\tawait addWorkout(updatedBikeValues);\r\n\r\n\t\thideModal();\r\n\r\n\t\tconst updateStatus = bikeStore.isBikeModified();\r\n\t\tif (updateStatus) {\r\n\t\t\t//Mostrar compo alerta verda amb Workout added\r\n\t\t} else {\r\n\t\t\talert('We could not add your workout');\r\n\t\t}\r\n\r\n\t\t// renderitzar la pagina\r\n\t\t// Mostrar alerta de OK o Error\r\n\t}\r\n\r\n\treturn (\r\n\t\tbikeDetails && (\r\n\t\t\t<>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<div className='general-container'>\r\n\t\t\t\t\t<div className='desktop'>\r\n\t\t\t\t\t\t<StandardAside />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='bike-detail'>\r\n\t\t\t\t\t\t<div className='bike-detail__upper mobile'>\r\n\t\t\t\t\t\t\t<NavLink to='/bikes'>Back</NavLink>\r\n\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\tto={`/bikes/${bikeDetails.bikeName}/edit`}\r\n\t\t\t\t\t\t\t\tclassName='upper__edit'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='bike-detail__head'>\r\n\t\t\t\t\t\t\t<div className='head__container'>\r\n\t\t\t\t\t\t\t\t<NavLink to='/bikes' className='desktop'>\r\n\t\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\r\n\t\t\t\t\t\t\t\t<h2 className='head__bikename'>\r\n\t\t\t\t\t\t\t\t\t{bikeDetails.bikeName || 'Your Bike'}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\tclassName='desktop'\r\n\t\t\t\t\t\t\t\t\tto={`/bikes/${bikeDetails.bikeName}/edit`}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='separator'></div>\r\n\r\n\t\t\t\t\t\t\t<div className='bike-detail__km-hours'>\r\n\t\t\t\t\t\t\t\t<div className='km-hours km-hours__km'>\r\n\t\t\t\t\t\t\t\t\t<p className='km-hours__title'>Total KM</p>\r\n\t\t\t\t\t\t\t\t\t<div className='separator-small'></div>\r\n\t\t\t\t\t\t\t\t\t<p className='km__value'>\r\n\t\t\t\t\t\t\t\t\t\t{Math.round(\r\n\t\t\t\t\t\t\t\t\t\t\tbikeDetails.bikeTotalMeters / 1000\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='km-hours__hours km-hours'>\r\n\t\t\t\t\t\t\t\t\t<p className='km-hours__title'>\r\n\t\t\t\t\t\t\t\t\t\tTotal Hours\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div className='separator-small'></div>\r\n\t\t\t\t\t\t\t\t\t<p className='km-hours__value'>\r\n\t\t\t\t\t\t\t\t\t\t{Math.floor(\r\n\t\t\t\t\t\t\t\t\t\t\tbikeDetails.bikeTotalMinutes / 60\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='float__button'\r\n\t\t\t\t\t\t\t\t\tonClick={showModal}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t+ Workout\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='bike-detail__components'>\r\n\t\t\t\t\t\t\t{bikeDetails.bikeComponentList &&\r\n\t\t\t\t\t\t\t\tbikeDetails.bikeComponentList.map((compo) => (\r\n\t\t\t\t\t\t\t\t\t<CompoCard\r\n\t\t\t\t\t\t\t\t\t\tkey={`compo-${compo.compoDisplayName}`}\r\n\t\t\t\t\t\t\t\t\t\tcompoInfo={compo}\r\n\t\t\t\t\t\t\t\t\t\tbikeName={bikeDetails.bikeName}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='bike-detail__details'>\r\n\t\t\t\t\t\t\t<div className='details__content'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc='https://image.flaticon.com/icons/svg/829/829906.svg'\r\n\t\t\t\t\t\t\t\t\talt='bike type'\r\n\t\t\t\t\t\t\t\t\tclassName='details__type-img'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className='details__info'>\r\n\t\t\t\t\t\t\t\t\t<p className='info__type'>\r\n\t\t\t\t\t\t\t\t\t\t{bikeDetails.bikeType}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t{bikeDetails.bikeBrand ||\r\n\t\t\t\t\t\t\t\t\t\t\t'Unknown Brand'}{' '}\r\n\t\t\t\t\t\t\t\t\t\t-{' '}\r\n\t\t\t\t\t\t\t\t\t\t{bikeDetails.bikeModel ||\r\n\t\t\t\t\t\t\t\t\t\t\t'Unknown Model'}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tDriving Style:{' '}\r\n\t\t\t\t\t\t\t\t\t\t{bikeDetails.bikeDriveStyle}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='darken__back'></div>\r\n\r\n\t\t\t\t\t\t<div className='addworkout__container'>\r\n\t\t\t\t\t\t\t<div className='addworkout__top'>\r\n\t\t\t\t\t\t\t\t<div className='flex-spacer'></div>\r\n\r\n\t\t\t\t\t\t\t\t<h3>Add new workout</h3>\r\n\t\t\t\t\t\t\t\t<div className='flex-spacer'></div>\r\n\t\t\t\t\t\t\t\t<p className='top__close' onClick={hideModal}>\r\n\t\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className='bikecard__separator'></div>\r\n\r\n\t\t\t\t\t\t\t<div className='addworkout__km-container addworkout__element'>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor='workoutKm'\r\n\t\t\t\t\t\t\t\t\tclassName='addworkout__label'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDistance (KM)\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\tname='addworkout__km'\r\n\t\t\t\t\t\t\t\t\tclassName='addworkout__km-input addworkout__input'\r\n\t\t\t\t\t\t\t\t\tdefaultValue='0'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='addworkout__time-container addworkout__element-double'>\r\n\t\t\t\t\t\t\t\t<div className='time__hours'>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor='addworkout__hours'\r\n\t\t\t\t\t\t\t\t\t\tclassName='addworkout__label'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tHours\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\tname='addworkout__hours'\r\n\t\t\t\t\t\t\t\t\t\tclassName='addworkout__hours-input addworkout__input'\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue='0'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='time__minutes'>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor='addworkout__minutes'\r\n\t\t\t\t\t\t\t\t\t\tclassName='addworkout__label'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tMinutes\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\tname='addworkout__minutes'\r\n\t\t\t\t\t\t\t\t\t\tclassName='addworkout__minutes-input addworkout__input'\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue='0'\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='addworkout__bottom'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='addworkout__button'\r\n\t\t\t\t\t\t\t\t\tonClick={handleWorkoutClick}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className='loading hidden'>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif'\r\n\t\t\t\t\t\t\t\t\t\t\talt='loading...'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='loading__img'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<p>Loading</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='no-loading' Create Account>\r\n\t\t\t\t\t\t\t\t\t\tAdd new Workout\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t);\r\n}\r\n\r\nexport default BikeDetail;\r\n","import React from 'react';\r\nimport './DetailCompoCard.scss';\r\n\r\nfunction DetailCompoCard({ compoInfo }) {\r\n\treturn (\r\n\t\t<div className='detailcompocard'>\r\n\t\t\t<div className='detailcompocard__content'>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc='https://image.flaticon.com/icons/svg/2623/2623442.svg'\r\n\t\t\t\t\talt='compo img'\r\n\t\t\t\t\tclassName='detailcompocard__img'\r\n\t\t\t\t/>\r\n\t\t\t\t<div className='detailcompocard__info'>\r\n\t\t\t\t\t<div className='detailcompocard__labels'>\r\n\t\t\t\t\t\t<p>{compoInfo.compoDisplayName}</p>\r\n\r\n\t\t\t\t\t\t<p className='labels__status'>\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t{Math.round(\r\n\t\t\t\t\t\t\t\tcompoInfo.compoAccumulatedMeters / 1000\r\n\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t/{compoInfo.compoLife / 1000} Km)\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<progress\r\n\t\t\t\t\t\t\tid='progress_detail'\r\n\t\t\t\t\t\t\tvalue={compoInfo.compoAccumulatedMeters / 1000}\r\n\t\t\t\t\t\t\tmax={compoInfo.compoLife / 1000}\r\n\t\t\t\t\t\t></progress>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DetailCompoCard;\r\n","import dispatcher from '../dispatcher';\r\nimport actionTypes from './actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport function createNewCompo(compoInfo) {\r\n\tif (sessionStorage.actualBike) {\r\n\t\tconst { bikeUserId, _id } = JSON.parse(sessionStorage.actualBike);\r\n\r\n\t\tconst params = {\r\n\t\t\tcompoInfo,\r\n\t\t\tuserId: bikeUserId,\r\n\t\t\tbikeId: _id,\r\n\t\t};\r\n\t\treturn axios.post('/api/crud/compo', params).then((response) => {\r\n\t\t\t// FALTA FER LA LOGICA DEL STORE\r\n\t\t\t// Afegir compo al sessionStorage\r\n\t\t\tconst newCompo = response.data;\r\n\t\t\tconst actualBike = JSON.parse(sessionStorage.actualBike);\r\n\t\t\tactualBike.bikeComponentList.push(newCompo);\r\n\t\t\tsessionStorage.actualBike = JSON.stringify(actualBike);\r\n\r\n\t\t\tdispatcher.dispatch({\r\n\t\t\t\ttype: actionTypes.ADD_NEW_COMPO,\r\n\t\t\t\tdata: newCompo,\r\n\t\t\t});\r\n\t\t});\r\n\t} else {\r\n\t\tconsole.log('There is no loaded bike');\r\n\t}\r\n}\r\n\r\nexport function resetCompo() {\r\n\tif (sessionStorage.actualCompo) {\r\n\t\tconst { _id } = JSON.parse(sessionStorage.actualCompo);\r\n\r\n\t\tconst params = {\r\n\t\t\tcompoId: _id,\r\n\t\t};\r\n\t\treturn axios.put('/api/crud/compo/reset', params).then((response) => {\r\n\t\t\tconst localActualCompo = JSON.parse(sessionStorage.actualCompo);\r\n\t\t\tlocalActualCompo.compoAccumulatedMeters = 0;\r\n\t\t\tlocalActualCompo.compoAccumulatedMinutes = 0;\r\n\t\t\tsessionStorage.actualCompo = JSON.stringify(localActualCompo);\r\n\r\n\t\t\tconst compoId = localActualCompo._id;\r\n\t\t\tconst localActualBike = JSON.parse(sessionStorage.actualBike);\r\n\t\t\tlocalActualBike.bikeComponentList.forEach((compo) => {\r\n\t\t\t\tif (compo._id === compoId) {\r\n\t\t\t\t\tcompo.compoAccumulatedMeters = 0;\r\n\t\t\t\t\tcompo.compoAccumulatedMinutes = 0;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsessionStorage.actualBike = JSON.stringify(localActualBike);\r\n\t\t\t// logica sessionStorage\r\n\t\t\tdispatcher.dispatch({\r\n\t\t\t\ttype: actionTypes.RESET_COMPO,\r\n\t\t\t\tdata: response.data,\r\n\t\t\t});\r\n\t\t});\r\n\t} else {\r\n\t\tconsole.log('There is no loaded compo');\r\n\t}\r\n}\r\n\r\nexport function deleteCompo() {\r\n\tif (sessionStorage.actualCompo) {\r\n\t\tconst { _id } = JSON.parse(sessionStorage.actualCompo);\r\n\r\n\t\tconst params = {\r\n\t\t\tcompoId: _id,\r\n\t\t};\r\n\t\treturn axios.put('/api/crud/compo/delete', params).then((response) => {\r\n\t\t\t// logica sessonstorage\r\n\r\n\t\t\tconst localActualBike = JSON.parse(sessionStorage.actualBike);\r\n\t\t\tlocalActualBike.bikeComponentList = localActualBike.bikeComponentList.filter(\r\n\t\t\t\t(compo) => {\r\n\t\t\t\t\treturn compo._id !== _id;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tsessionStorage.actualBike = JSON.stringify(localActualBike);\r\n\r\n\t\t\tdispatcher.dispatch({\r\n\t\t\t\ttype: actionTypes.DELETE_COMPO,\r\n\t\t\t\tdata: response.data,\r\n\t\t\t});\r\n\t\t});\r\n\t} else {\r\n\t\tconsole.log('There is no loaded compo');\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { isUserAuthWithToken } from '../../actions/authActions';\r\n\r\nimport authStore from '../../stores/authStore';\r\n\r\nimport Header from '../HeaderComponent/Header';\r\nimport StandardAside from '../StandardAside/StandardAside';\r\nimport DetailCompoCard from './DetailCompoCardComponent/DetailCompoCard';\r\n\r\nimport './CompoDetail.scss';\r\nimport { resetCompo, deleteCompo } from '../../actions/compoActions';\r\nimport bikeStore from '../../stores/bikeStore';\r\n\r\nlet userCheck = false;\r\nlet isUserAuth = null;\r\n\r\nfunction CompoDetail(props) {\r\n\tconst [compoInfo, setCompoinfo] = useState({});\r\n\tconst [bikeInfo, setBikeInfo] = useState({});\r\n\r\n\tconst history = useHistory();\r\n\r\n\tasync function handleAuthorization() {\r\n\t\tif (!userCheck) {\r\n\t\t\tawait checkIfUserIsAuth();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function checkIfUserIsAuth() {\r\n\t\tawait isUserAuthWithToken();\r\n\t\tisUserAuth = authStore.isUserAuth();\r\n\t\tif (!isUserAuth) {\r\n\t\t\thistory.replace('/login');\r\n\t\t}\r\n\t\tuserCheck = true;\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\thandleAuthorization();\r\n\r\n\t\tif (sessionStorage.actualCompo && sessionStorage.actualBike) {\r\n\t\t\tsetCompoinfo(JSON.parse(sessionStorage.actualCompo));\r\n\t\t\tsetBikeInfo(JSON.parse(sessionStorage.actualBike));\r\n\t\t}\r\n\t}, [userCheck]);\r\n\r\n\tfunction onChange() {\r\n\t\tsetCompoinfo(JSON.parse(sessionStorage.actualCompo));\r\n\t\tsetBikeInfo(JSON.parse(sessionStorage.actualBike));\r\n\t}\r\n\r\n\tasync function handleResetCompoClick() {\r\n\t\tawait resetCompo();\r\n\t\tconst resetStatus = bikeStore.isCompoModified();\r\n\r\n\t\tif (!resetStatus) {\r\n\t\t\talert('We could not reset your compo');\r\n\t\t} else {\r\n\t\t\tonChange();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function handleDeleteCompoClick() {\r\n\t\tawait deleteCompo();\r\n\t\tconst deleteStatus = bikeStore.isCompoModified();\r\n\t\tif (!deleteStatus) {\r\n\t\t\talert('We could not delete your compo');\r\n\t\t} else {\r\n\t\t\thistory.replace(`/bikes/${bikeInfo}`);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\tcompoInfo && (\r\n\t\t\t<>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<div className='general-container'>\r\n\t\t\t\t\t<div className='desktop'>\r\n\t\t\t\t\t\t<StandardAside />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className='compodetail'>\r\n\t\t\t\t\t\t<div className='compodetail__upper mobile'>\r\n\t\t\t\t\t\t\t<NavLink to={`/bikes/${bikeInfo.bikeName}`}>\r\n\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t<p className='upper__edit'>Edit</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='compodetail__head'>\r\n\t\t\t\t\t\t\t<div className='head__container'>\r\n\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\tto={`/bikes/${bikeInfo.bikeName}`}\r\n\t\t\t\t\t\t\t\t\tclassName='desktop'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t\t\t<h2 className='head__compoName'>\r\n\t\t\t\t\t\t\t\t\t{bikeInfo.bikeName} -{' '}\r\n\t\t\t\t\t\t\t\t\t{compoInfo.compoDisplayName}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='compodetail__reset desktop'\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\thandleResetCompoClick();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tReset Component\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='separator'></div>\r\n\r\n\t\t\t\t\t\t\t<div className='compodetail__km-hours'>\r\n\t\t\t\t\t\t\t\t<div className='km-hours km-hours__km'>\r\n\t\t\t\t\t\t\t\t\t<p className='km-hours__title'>Total KM</p>\r\n\t\t\t\t\t\t\t\t\t<div className='separator-small'></div>\r\n\t\t\t\t\t\t\t\t\t<p className='km__value'>\r\n\t\t\t\t\t\t\t\t\t\t{Math.round(\r\n\t\t\t\t\t\t\t\t\t\t\tcompoInfo.compoAccumulatedMeters /\r\n\t\t\t\t\t\t\t\t\t\t\t\t1000\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='km-hours__hours km-hours'>\r\n\t\t\t\t\t\t\t\t\t<p className='km-hours__title'>\r\n\t\t\t\t\t\t\t\t\t\tTotal Hours\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div className='separator-small'></div>\r\n\t\t\t\t\t\t\t\t\t<p className='km-hours__value'>\r\n\t\t\t\t\t\t\t\t\t\t{Math.floor(\r\n\t\t\t\t\t\t\t\t\t\t\tcompoInfo.compoAccumulatedMinutes /\r\n\t\t\t\t\t\t\t\t\t\t\t\t60\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='compodetail__components'>\r\n\t\t\t\t\t\t\t<DetailCompoCard compoInfo={compoInfo} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='compodetail__details'>\r\n\t\t\t\t\t\t\t<div className='details__content'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc='https://image.flaticon.com/icons/svg/2623/2623442.svg'\r\n\t\t\t\t\t\t\t\t\talt='bike type'\r\n\t\t\t\t\t\t\t\t\tclassName='details__type-img'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className='details__info'>\r\n\t\t\t\t\t\t\t\t\t<p className='info__type'>\r\n\t\t\t\t\t\t\t\t\t\t{bikeInfo.bikeName} -{' '}\r\n\t\t\t\t\t\t\t\t\t\t{compoInfo.compoDisplayName}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t{compoInfo.compoBrand ||\r\n\t\t\t\t\t\t\t\t\t\t\t'Unknown brand'}{' '}\r\n\t\t\t\t\t\t\t\t\t\t-{' '}\r\n\t\t\t\t\t\t\t\t\t\t{compoInfo.compoModel ||\r\n\t\t\t\t\t\t\t\t\t\t\t'Unknown Model'}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='compodetail__reset mobile'\r\n\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\thandleResetCompoClick();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tReset Component\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='compodetail__reset delete mobile'\r\n\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\thandleDeleteCompoClick();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDelete Component\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t);\r\n}\r\n\r\nexport default CompoDetail;\r\n","import React from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\n\r\nimport './NewBikeForm.scss';\r\n\r\nimport Header from '../../HeaderComponent/Header';\r\nimport { createNewBike } from '../../../actions/bikeActions';\r\nimport bikeStore from '../../../stores/bikeStore';\r\n\r\nconst bikeTypeList = [\r\n\t{ value: 'mountain', displayText: 'Mountain Bike', image: '' },\r\n\t{ value: 'road', displayText: 'Road Bike', image: '' },\r\n\t{ value: 'enduro_downhill', displayText: 'Enduro / Downhill', image: '' },\r\n\t{ value: 'gravel_cross', displayText: 'Gravel / Cross', image: '' },\r\n];\r\n\r\nconst drivingStyleList = [\r\n\t{ value: 'soft', displayText: 'Soft', image: '' },\r\n\t{ value: 'moderate', displayText: 'Moderate', image: '' },\r\n\t{ value: 'aggressive', displayText: 'Aggressive', image: '' },\r\n];\r\n\r\nfunction getFormElements() {\r\n\tconst bikeNameElement = document.getElementsByClassName(\r\n\t\t'newbikeform__bikename'\r\n\t)[0];\r\n\tconst bikeTypeElement = document.getElementsByClassName(\r\n\t\t'newbikeform__bikeType'\r\n\t)[0];\r\n\tconst drivingStyleElement = document.getElementsByClassName(\r\n\t\t'newbikeform__driveStyle'\r\n\t)[0];\r\n\tconst bikeBrandElement = document.getElementsByClassName(\r\n\t\t'newbikeform__bikeBrand'\r\n\t)[0];\r\n\tconst bikeModelElement = document.getElementsByClassName(\r\n\t\t'newbikeform__bikeModel'\r\n\t)[0];\r\n\tconst warningElement = document.getElementsByClassName(\r\n\t\t'newbikeform__warning'\r\n\t)[0];\r\n\tconst submitButtonElement = document.getElementsByClassName(\r\n\t\t'newbikeform__create-button'\r\n\t)[0];\r\n\tconst loadingElement = document.getElementsByClassName('loading')[0];\r\n\tconst noLoadingElement = document.getElementsByClassName('no-loading')[0];\r\n\r\n\treturn {\r\n\t\tbikeNameElement,\r\n\t\tbikeTypeElement,\r\n\t\tdrivingStyleElement,\r\n\t\tbikeBrandElement,\r\n\t\tbikeModelElement,\r\n\t\twarningElement,\r\n\t\tsubmitButtonElement,\r\n\t\tloadingElement,\r\n\t\tnoLoadingElement,\r\n\t};\r\n}\r\n\r\nfunction disableForm(formElements) {\r\n\tObject.entries(formElements).forEach((element) => {\r\n\t\tif (\r\n\t\t\telement[0] !== 'loadingElement' ||\r\n\t\t\telement[0] !== 'noLoadingElement'\r\n\t\t) {\r\n\t\t\telement[1].disabled = true;\r\n\t\t}\r\n\t});\r\n\tformElements.loadingElement.style.display = 'flex';\r\n\tformElements.noLoadingElement.style.display = 'none';\r\n}\r\n\r\nfunction enableForm(formElements) {\r\n\tObject.entries(formElements).forEach((element) => {\r\n\t\tif (\r\n\t\t\telement[0] !== 'loadingElement' ||\r\n\t\t\telement[0] !== 'noLoadingElement'\r\n\t\t) {\r\n\t\t\telement[1].disabled = false;\r\n\t\t}\r\n\t\tformElements.loadingElement.style.display = 'none';\r\n\t\tformElements.noLoadingElement.style.display = 'flex';\r\n\t});\r\n}\r\n\r\nfunction NewBikeForm() {\r\n\tconst history = useHistory();\r\n\r\n\tasync function validateForm() {\r\n\t\tconst formElements = getFormElements();\r\n\t\tdisableForm(formElements);\r\n\t\tconst bikeName = formElements.bikeNameElement.value;\r\n\t\tconst bikeType = formElements.bikeTypeElement.value;\r\n\t\tconst bikeDriveStyle = formElements.drivingStyleElement.value;\r\n\t\tconst bikeBrand = formElements.bikeBrandElement.value;\r\n\t\tconst bikeModel = formElements.bikeModelElement.value;\r\n\r\n\t\tif (!bikeName) {\r\n\t\t\tformElements.warningElement.innerHTML = 'A bike name is required';\r\n\t\t\tenableForm(formElements);\r\n\t\t} else {\r\n\t\t\tconst bikeInfo = {\r\n\t\t\t\tbikeName,\r\n\t\t\t\tbikeType,\r\n\t\t\t\tbikeDriveStyle,\r\n\t\t\t\tbikeBrand,\r\n\t\t\t\tbikeModel,\r\n\t\t\t};\r\n\t\t\ttry {\r\n\t\t\t\tawait createNewBike(bikeInfo);\r\n\t\t\t\tconst newBike = bikeStore.getNewBike();\r\n\t\t\t\tif (newBike) {\r\n\t\t\t\t\thistory.replace('/bikes');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// window.getElementsByClassName('errorAlert').style.display =\r\n\t\t\t\t\t// \t'block';\r\n\t\t\t\t\talert('We could not create the bike');\r\n\t\t\t\t\tformElements.warningElement.innerHTML =\r\n\t\t\t\t\t\t'We could not create the bike';\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\t// Mostrar alerta error\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header />\r\n\t\t\t<div className='general-container'>\r\n\t\t\t\t<div className='newbikeform'>\r\n\t\t\t\t\t<div className='newbikeform__upper mobile'>\r\n\t\t\t\t\t\t<NavLink to='/bikes'>My bikes</NavLink>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='newbikeform-container'>\r\n\t\t\t\t\t\t<h1 className='newbikeform__title'>New bike</h1>\r\n\t\t\t\t\t\t<form className='newbikeform__form'>\r\n\t\t\t\t\t\t\t<div className='newbikeform__element'>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor='bikename'\r\n\t\t\t\t\t\t\t\t\tclassName='newbikeform__label'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tBike Name\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tname='bikename'\r\n\t\t\t\t\t\t\t\t\tclassName='newbikeform__bikename newbikeform__input'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='newbikeform__element'>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor='bikeType'\r\n\t\t\t\t\t\t\t\t\tclassName='newbikeform__label'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tType\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tname='bikeType'\r\n\t\t\t\t\t\t\t\t\tclassName='newbikeform__bikeType newbikeform__input'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{bikeTypeList.map((bikeType) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={bikeType.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={bikeType.value}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{bikeType.displayText}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='newbikeform__element'>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor='bikeDriveStyle'\r\n\t\t\t\t\t\t\t\t\tclassName='newbikeform__label'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDriving Style\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tname='bikeDriveStyle'\r\n\t\t\t\t\t\t\t\t\tclassName='newbikeform__driveStyle newbikeform__input'\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{drivingStyleList.map((drivingStyle) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={drivingStyle.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={drivingStyle.value}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{drivingStyle.displayText}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='newbikeform__element'>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor='bikeBrand'\r\n\t\t\t\t\t\t\t\t\tclassName='newbikeform__label'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tBrand\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tname='bikeBrand'\r\n\t\t\t\t\t\t\t\t\tclassName='newbikeform__bikeBrand newbikeform__input'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='newbikeform__element'>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor='bikeModel'\r\n\t\t\t\t\t\t\t\t\tclassName='newbikeform__label'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tModel\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tname='bikeModel'\r\n\t\t\t\t\t\t\t\t\tclassName='newbikeform__bikeModel newbikeform__input'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='newbikeform__element'>\r\n\t\t\t\t\t\t\t\t<p className='newbikeform__warning'></p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='newbikeform__create-button'\r\n\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\tvalidateForm();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div className='loading hidden'>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif'\r\n\t\t\t\t\t\t\t\t\t\talt='loading...'\r\n\t\t\t\t\t\t\t\t\t\tclassName='loading__img'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<p>Loading</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='no-loading' Create Account>\r\n\t\t\t\t\t\t\t\t\tCreate Bike\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default NewBikeForm;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { createNewCompo } from '../../../actions/compoActions';\r\nimport bikeStore from '../../../stores/bikeStore';\r\n\r\nimport './NewCompoModal.scss';\r\n\r\nconst compoTypes = [\r\n\t{ compoType: 'chain', compoDisplayName: 'Chain' },\r\n\t{ compoType: 'cassette', compoDisplayName: 'Cassette' },\r\n\t{\r\n\t\tcompoType: 'chainRing',\r\n\t\tcompoDisplayName: 'Chain Ring',\r\n\t},\r\n\t{\r\n\t\tcompoType: 'frontTyre',\r\n\t\tcompoDisplayName: 'Front Tyre',\r\n\t},\r\n\t{\r\n\t\tcompoType: 'rearTyre',\r\n\t\tcompoDisplayName: 'Rear Tyre',\r\n\t},\r\n\t{\r\n\t\tcompoType: 'frontBrakePads',\r\n\t\tcompoDisplayName: 'Front brake pads',\r\n\t},\r\n\t{\r\n\t\tcompoType: 'rearBrakePads',\r\n\t\tcompoDisplayName: 'Rear brake pads',\r\n\t},\r\n\t{\r\n\t\tcompoType: 'rearDerailleur',\r\n\t\tcompoDisplayName: 'Rear derailleur',\r\n\t},\r\n\t{\r\n\t\tcompoType: 'frontDerailleur',\r\n\t\tcompoDisplayName: 'Front derailleur',\r\n\t},\r\n];\r\n\r\nfunction NewCompoModal(bikeName) {\r\n\tconst history = useHistory();\r\n\r\n\tfunction getFormElements() {\r\n\t\tconst compoTypeElement = document.getElementsByClassName(\r\n\t\t\t'main__compoType'\r\n\t\t)[0];\r\n\t\tconst compoBrandElement = document.getElementsByClassName(\r\n\t\t\t'newcompo__brand'\r\n\t\t)[0];\r\n\t\tconst compoModelElement = document.getElementsByClassName(\r\n\t\t\t'newcompo__model'\r\n\t\t)[0];\r\n\t\tconst compoLifeElement = document.getElementsByClassName(\r\n\t\t\t'newcompo__life'\r\n\t\t)[0];\r\n\t\tconst warningElement = document.getElementsByClassName(\r\n\t\t\t'login__warning'\r\n\t\t)[0];\r\n\t\tconst buttonElement = document.getElementsByClassName(\r\n\t\t\t'newcompo__createbutton'\r\n\t\t)[0];\r\n\r\n\t\treturn {\r\n\t\t\tcompoTypeElement,\r\n\t\t\tcompoBrandElement,\r\n\t\t\tcompoModelElement,\r\n\t\t\tcompoLifeElement,\r\n\t\t\twarningElement,\r\n\t\t\tbuttonElement,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction hideModal() {\r\n\t\tdocument.getElementsByClassName('darken__back')[0].style.display =\r\n\t\t\t'none';\r\n\t\tdocument\r\n\t\t\t.getElementsByClassName('newcompomodal')[0]\r\n\t\t\t.classList.remove('newcompomodal-show');\r\n\t\tdocument\r\n\t\t\t.getElementsByClassName('newcompomodal')[0]\r\n\t\t\t.classList.add('newcompomodal-hide');\r\n\t}\r\n\r\n\tasync function handleCreateCompoClick() {\r\n\t\tconst formElements = getFormElements();\r\n\r\n\t\tconst compoType = formElements.compoTypeElement.value;\r\n\t\tconst compoBrand = formElements.compoBrandElement.value;\r\n\t\tconst compoModel = formElements.compoModelElement.value;\r\n\t\tconst compoLife = formElements.compoLifeElement.value * 1000;\r\n\r\n\t\tif (!compoLife) {\r\n\t\t\tformElements.warningElement.innerHTML =\r\n\t\t\t\t'A compo life value is required';\r\n\t\t} else {\r\n\t\t\tconst compoInfo = {\r\n\t\t\t\tcompoType,\r\n\t\t\t\tcompoBrand,\r\n\t\t\t\tcompoModel,\r\n\t\t\t\tcompoLife,\r\n\t\t\t};\r\n\t\t\tawait createNewCompo(compoInfo);\r\n\r\n\t\t\tconst createdCompo = bikeStore.getCompoDetail();\r\n\r\n\t\t\tif (!createdCompo) {\r\n\t\t\t\talert('We could not create the new compo');\r\n\t\t\t} else {\r\n\t\t\t\thideModal();\r\n\t\t\t\thistory.replace(`/bikes/${bikeName}`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\tbikeName && (\r\n\t\t\t<>\r\n\t\t\t\t<div className='newcompo__container'>\r\n\t\t\t\t\t<div className='newcompo__top'>\r\n\t\t\t\t\t\t<div className='flex-spacer'></div>\r\n\r\n\t\t\t\t\t\t<h3>Add new component</h3>\r\n\t\t\t\t\t\t<div className='flex-spacer'></div>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName='top__close'\r\n\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\thideModal();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='newcompo__main'>\r\n\t\t\t\t\t\t<label htmlFor='compoType'>Type</label>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tname='compoType'\r\n\t\t\t\t\t\t\tclassName='main__compoType newcompo__input'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{compoTypes.map((compo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<option value={compo.compoType}>\r\n\t\t\t\t\t\t\t\t\t\t{compo.compoDisplayName}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t<label htmlFor='compoBrand'>Brand</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tname='compoBrand'\r\n\t\t\t\t\t\t\tclassName='newcompo__brand newcompo__input'\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<label htmlFor='compoModel'>Model</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tname='compoModel'\r\n\t\t\t\t\t\t\tclassName='newcompo__model newcompo__input'\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<label htmlFor='compoLife'>Life (in Km)</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\tname='compoLife'\r\n\t\t\t\t\t\t\tclassName='newcompo__life newcompo__input'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='login__warning '></div>\r\n\t\t\t\t\t<div className='newcompo__bottom'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='newcompo__createbutton'\r\n\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\thandleCreateCompoClick();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tCreate Compo\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t);\r\n}\r\n\r\nexport default NewCompoModal;\r\n","import React from 'react';\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport { deleteBike, editBike } from '../../../actions/bikeActions';\r\nimport bikeStore from '../../../stores/bikeStore';\r\n\r\nimport Header from '../../HeaderComponent/Header';\r\nimport NewCompoModal from './NewCompoModal';\r\n\r\nimport './EditBike.scss';\r\n\r\nconst bikeTypeList = [\r\n\t{ value: 'mountain', displayText: 'Mountain Bike', image: '' },\r\n\t{ value: 'road', displayText: 'Road Bike', image: '' },\r\n\t{ value: 'enduro_downhill', displayText: 'Enduro / Downhill', image: '' },\r\n\t{ value: 'gravel_cross', displayText: 'Gravel / Cross', image: '' },\r\n];\r\n\r\nconst drivingStyleList = [\r\n\t{ value: 'soft', displayText: 'Soft', image: '' },\r\n\t{ value: 'moderate', displayText: 'Moderate', image: '' },\r\n\t{ value: 'aggressive', displayText: 'Aggressive', image: '' },\r\n];\r\n\r\nfunction getFormElements() {\r\n\tconst bikeNameElement = document.getElementsByClassName(\r\n\t\t'editbike__bikename'\r\n\t)[0];\r\n\tconst bikeTypeElement = document.getElementsByClassName(\r\n\t\t'editbike__bikeType'\r\n\t)[0];\r\n\tconst drivingStyleElement = document.getElementsByClassName(\r\n\t\t'editbike__driveStyle'\r\n\t)[0];\r\n\tconst bikeBrandElement = document.getElementsByClassName(\r\n\t\t'editbike__bikeBrand'\r\n\t)[0];\r\n\tconst bikeModelElement = document.getElementsByClassName(\r\n\t\t'editbike__bikeModel'\r\n\t)[0];\r\n\tconst bikeTotalKmElement = document.getElementsByClassName(\r\n\t\t'editbike__totalKm'\r\n\t)[0];\r\n\tconst bikeTotalHoursElement = document.getElementsByClassName(\r\n\t\t'editbike__totalHours'\r\n\t)[0];\r\n\r\n\tconst warningElement = document.getElementsByClassName(\r\n\t\t'editbike__warning'\r\n\t)[0];\r\n\tconst submitButtonElement = document.getElementsByClassName(\r\n\t\t'editbike__create-button'\r\n\t)[0];\r\n\tconst loadingElement = document.getElementsByClassName('loading')[0];\r\n\tconst noLoadingElement = document.getElementsByClassName('no-loading')[0];\r\n\r\n\treturn {\r\n\t\tbikeNameElement,\r\n\t\tbikeTypeElement,\r\n\t\tdrivingStyleElement,\r\n\t\tbikeBrandElement,\r\n\t\tbikeModelElement,\r\n\t\tbikeTotalKmElement,\r\n\t\tbikeTotalHoursElement,\r\n\t\twarningElement,\r\n\t\tsubmitButtonElement,\r\n\t\tloadingElement,\r\n\t\tnoLoadingElement,\r\n\t};\r\n}\r\n\r\nfunction disableForm(formElements) {\r\n\tObject.entries(formElements).forEach((element) => {\r\n\t\tif (\r\n\t\t\telement[0] !== 'loadingElement' ||\r\n\t\t\telement[0] !== 'noLoadingElement'\r\n\t\t) {\r\n\t\t\telement[1].disabled = true;\r\n\t\t}\r\n\t});\r\n\tformElements.loadingElement.style.display = 'flex';\r\n\tformElements.noLoadingElement.style.display = 'none';\r\n}\r\n\r\nfunction enableForm(formElements) {\r\n\tObject.entries(formElements).forEach((element) => {\r\n\t\tif (\r\n\t\t\telement[0] !== 'loadingElement' ||\r\n\t\t\telement[0] !== 'noLoadingElement'\r\n\t\t) {\r\n\t\t\telement[1].disabled = false;\r\n\t\t}\r\n\t\tformElements.loadingElement.style.display = 'none';\r\n\t\tformElements.noLoadingElement.style.display = 'flex';\r\n\t});\r\n}\r\n\r\nfunction EditBike() {\r\n\tconst history = useHistory();\r\n\tlet actualBikeInfo = null;\r\n\tif (sessionStorage.actualBike) {\r\n\t\tactualBikeInfo = JSON.parse(sessionStorage.actualBike);\r\n\t}\r\n\r\n\tasync function validateForm() {\r\n\t\tconst formElements = getFormElements();\r\n\r\n\t\tconst bikeName = formElements.bikeNameElement.value;\r\n\t\tconst bikeType = formElements.bikeTypeElement.value;\r\n\t\tconst bikeDriveStyle = formElements.drivingStyleElement.value;\r\n\t\tconst bikeBrand = formElements.bikeBrandElement.value;\r\n\t\tconst bikeModel = formElements.bikeModelElement.value;\r\n\t\tconst bikeTotalMeters = formElements.bikeTotalKmElement.value * 1000;\r\n\t\tconst bikeTotalMinutes = formElements.bikeTotalHoursElement.value * 60;\r\n\r\n\t\tif (!bikeName) {\r\n\t\t\tformElements.warningElement.innerHTML = 'A bike name is required';\r\n\t\t} else {\r\n\t\t\tdisableForm(formElements);\r\n\r\n\t\t\tlet isNameChanged = null;\r\n\t\t\tbikeName === actualBikeInfo.bikeName\r\n\t\t\t\t? (isNameChanged = false)\r\n\t\t\t\t: (isNameChanged = true);\r\n\r\n\t\t\tconst bikeInfo = {\r\n\t\t\t\tbikeName,\r\n\t\t\t\tbikeType,\r\n\t\t\t\tbikeDriveStyle,\r\n\t\t\t\tbikeBrand,\r\n\t\t\t\tbikeModel,\r\n\t\t\t\tbikeTotalMeters,\r\n\t\t\t\tbikeTotalMinutes,\r\n\t\t\t};\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait editBike(bikeInfo, isNameChanged);\r\n\t\t\t\tconst isBikeModified = bikeStore.isBikeModified();\r\n\t\t\t\tif (!isBikeModified) {\r\n\t\t\t\t\talert('There has been an error editing your bike');\r\n\t\t\t\t} else {\r\n\t\t\t\t\thistory.replace('/bikes');\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tformElements.warningElement.innerHTML =\r\n\t\t\t\t\t'We could not edit the bike';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction showModal() {\r\n\t\tdocument.getElementsByClassName('darken__back')[0].style.display =\r\n\t\t\t'block';\r\n\t\tdocument\r\n\t\t\t.getElementsByClassName('newcompomodal')[0]\r\n\t\t\t.classList.remove('newcompomodal-hide');\r\n\t\tdocument\r\n\t\t\t.getElementsByClassName('newcompomodal')[0]\r\n\t\t\t.classList.add('newcompomodal-show');\r\n\t}\r\n\r\n\tasync function handleAddCompoClick() {\r\n\t\tshowModal();\r\n\t}\r\n\r\n\tasync function handleDeleteClick() {\r\n\t\tconst confirmation = window.confirm(\r\n\t\t\t'Are you sure you want to delete this bike?'\r\n\t\t);\r\n\r\n\t\tconfirmation && (await deleteBike());\r\n\t\tconst deletionStatus = bikeStore.isBikeModified();\r\n\r\n\t\tif (deletionStatus) {\r\n\t\t\thistory.replace('/bikes');\r\n\t\t} else {\r\n\t\t\talert('There has been an error deleting your bike');\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\tactualBikeInfo && (\r\n\t\t\t<>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<div className='general-container'>\r\n\t\t\t\t\t<div className='editbike'>\r\n\t\t\t\t\t\t<div className='newbikeform__upper mobile'>\r\n\t\t\t\t\t\t\t<NavLink to='/bikes'>My bikes</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='editbike__container'>\r\n\t\t\t\t\t\t\t<h1 className='editbike__title'>Edit Bike</h1>\r\n\t\t\t\t\t\t\t<form className='editbike__form'>\r\n\t\t\t\t\t\t\t\t<div className='editbike__element'>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor='bikename'\r\n\t\t\t\t\t\t\t\t\t\tclassName='editbike__label'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tBike Name\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname='bikename'\r\n\t\t\t\t\t\t\t\t\t\tclassName='editbike__bikename editbike__input'\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={actualBikeInfo.bikeName}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='editbike__element'>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor='bikeType'\r\n\t\t\t\t\t\t\t\t\t\tclassName='editbike__label'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tType\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tname='bikeType'\r\n\t\t\t\t\t\t\t\t\t\tclassName='editbike__bikeType editbike__input'\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={actualBikeInfo.bikeType}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{bikeTypeList.map((bikeType) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={bikeType.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={bikeType.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{bikeType.displayText}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='editbike__element'>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor='bikeDriveStyle'\r\n\t\t\t\t\t\t\t\t\t\tclassName='editbike__label'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tDriving Style\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname='bikeDriveStyle'\r\n\t\t\t\t\t\t\t\t\t\tclassName='editbike__driveStyle editbike__input'\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={\r\n\t\t\t\t\t\t\t\t\t\t\tactualBikeInfo.bikeDriveStyle\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{drivingStyleList.map(\r\n\t\t\t\t\t\t\t\t\t\t\t(drivingStyle) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdrivingStyle.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={drivingStyle.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdrivingStyle.displayText\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='editbike__element'>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor='bikeBrand'\r\n\t\t\t\t\t\t\t\t\t\tclassName='editbike__label'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tBrand\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname='bikeBrand'\r\n\t\t\t\t\t\t\t\t\t\tclassName='editbike__bikeBrand editbike__input'\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={actualBikeInfo.bikeBrand}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='editbike__element'>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor='bikeModel'\r\n\t\t\t\t\t\t\t\t\t\tclassName='editbike__label'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tModel\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname='bikeModel'\r\n\t\t\t\t\t\t\t\t\t\tclassName='editbike__bikeModel editbike__input'\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={actualBikeInfo.bikeModel}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='editbike__element-double'>\r\n\t\t\t\t\t\t\t\t\t<div className='element-double__item'>\r\n\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\thtmlFor='bikeModel'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='editbike__label'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tTotal KM\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\tname='bikeModel'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='editbike__totalKm editbike__input'\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={Math.round(\r\n\t\t\t\t\t\t\t\t\t\t\t\tactualBikeInfo.bikeTotalMeters /\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t1000\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='element-double__item'>\r\n\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\thtmlFor='bikeModel'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='editbike__label'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tTotal hours\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\tname='bikeModel'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='editbike__totalHours editbike__input'\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={Math.round(\r\n\t\t\t\t\t\t\t\t\t\t\t\tactualBikeInfo.bikeTotalMinutes /\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t60\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='editbike__element'>\r\n\t\t\t\t\t\t\t\t\t<p className='editbike__warning'></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='editbike__create-button'\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tvalidateForm();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className='loading hidden'>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif'\r\n\t\t\t\t\t\t\t\t\t\t\talt='loading...'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='loading__img'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<p>Loading</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='no-loading' Create Account>\r\n\t\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t\t\t<div className='register__separator'>\r\n\t\t\t\t\t\t\t\t<div className='line'></div>\r\n\t\t\t\t\t\t\t\t<span className='bold'>Or</span>\r\n\t\t\t\t\t\t\t\t<div className='line'></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='editbike__extra'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='extra__addcompo-button editbike__create-button'\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\thandleAddCompoClick();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className='addcompo-loading hidden'>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif'\r\n\t\t\t\t\t\t\t\t\t\t\talt='loading...'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='loading__img'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<p>Loading</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='addcompo-no-loading'>\r\n\t\t\t\t\t\t\t\t\t\tAdd new compo\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='extra__delete-button'\r\n\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\thandleDeleteClick();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className='delete-loading hidden'>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc='https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif'\r\n\t\t\t\t\t\t\t\t\t\t\talt='loading...'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='loading__img'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<p>Loading</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName='delete-no-loading'\r\n\t\t\t\t\t\t\t\t\t\tCreate\r\n\t\t\t\t\t\t\t\t\t\tAccount\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tDelete this bike\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='darken__back'></div>\r\n\r\n\t\t\t\t<div className='newcompomodal'>\r\n\t\t\t\t\t<NewCompoModal bikeName={actualBikeInfo.bikeName} />\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t);\r\n}\r\n\r\nexport default EditBike;\r\n","import React from 'react';\r\nimport './App.scss';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport Landing from './components/LandingComponent/Landing';\r\nimport Login from './components/LoginComponent/Login';\r\nimport Register from './components/RegisterComponent/Register';\r\nimport AuthStrava from './components/AuthComponent/AuthStrava';\r\n\r\nimport Profile from './components/ProfileComponent/Profile';\r\n\r\nimport BikeList from './components/BikeListComponent/BikeList';\r\nimport BikeDetail from './components/BikeDetailComponent/BikeDetail';\r\nimport CompoDetail from './components/CompoDetailComponent/CompoDetail';\r\nimport NewBikeForm from './components/BikeListComponent/AddBikeComponents/NewBikeForm';\r\nimport EditBike from './components/BikeDetailComponent/EditBikeComponent/EditBike';\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path='/' exact component={Landing} />\r\n\t\t\t\t<Route path='/login' exact component={Login} />\r\n\t\t\t\t<Route path='/register' exact component={Register} />\r\n\t\t\t\t<Route path='/auth/strava' exact component={AuthStrava} />\r\n\r\n\t\t\t\t<Route path='/user' exact component={Profile} />\r\n\r\n\t\t\t\t<Route path='/bikes/new-bike' exact component={NewBikeForm} />\r\n\r\n\t\t\t\t<Route path='/bikes' exact component={BikeList} />\r\n\t\t\t\t<Route path='/bikes/:bikeId' exact component={BikeDetail} />\r\n\t\t\t\t<Route path='/bikes/:bikeId/edit' component={EditBike} />\r\n\r\n\t\t\t\t<Route\r\n\t\t\t\t\tpath='/bikes/:bikeId/:compoId'\r\n\t\t\t\t\texact\r\n\t\t\t\t\tcomponent={CompoDetail}\r\n\t\t\t\t/>\r\n\t\t\t</Switch>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<Router>\r\n\t\t\t<App />\r\n\t\t</Router>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}