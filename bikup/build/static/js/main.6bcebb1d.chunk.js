(this.webpackJsonpbikup=this.webpackJsonpbikup||[]).push([[0],{20:function(e,a,t){},37:function(e,a,t){e.exports=t(83)},42:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){},72:function(e,a,t){},73:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){},82:function(e,a,t){},83:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(33),c=t.n(s),r=(t(20),t(4)),i=t(2),o="http://localhost:3000/auth/strava",m="read_all,activity:read,profile:read_all",d="http://www.strava.com/oauth/authorize?client_id=".concat("37664","&response_type=code&redirect_uri=").concat(o,"&approval_prompt=force&scope=").concat(m);t(42);var u=function(){var e=Object(r.f)();return l.a.createElement("div",{className:"landing"},l.a.createElement("div",{className:"landing__header desktop"},l.a.createElement(i.b,{to:"/",className:"header__linkhome"},l.a.createElement("img",{className:"logo",src:"https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png",alt:"logo"}),l.a.createElement("p",{className:"appName"},"bikUP")),l.a.createElement("div",{className:"flex-spacer"}),l.a.createElement(i.b,{to:"/login",className:"landing-header-login"},l.a.createElement("button",{className:"login__button login__button--header"},"Log In"))),l.a.createElement("div",{className:"landing__upper mobile"},l.a.createElement(i.b,{className:"login__button",to:"/login"},"Log In")),l.a.createElement("div",{className:"landing__topContent"},l.a.createElement("div",{className:"topContent-main"},l.a.createElement("img",{className:"landing__bikup-logo",src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53aa4c97b74918797ef889/49939c4bd610049ad5bb132cd4fb6c87/bikup-logo.png",alt:"bikUP logo"}),l.a.createElement("h1",null,"bikUP")),l.a.createElement("div",{className:"landing__separator"}),l.a.createElement("h2",{className:"subtitle"},'"Care for your bike"'),l.a.createElement("div",{className:"landing__register--container"},l.a.createElement("div",{className:"register__strava registerItem"},l.a.createElement("button",{className:"register__btn strava"},l.a.createElement("a",{href:d,className:"button__anchor button__anchor--strava"},l.a.createElement("div",{className:"btn__logo"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/2f6af477333d585dfbfc19a14da9f857/strava-2.svg",alt:"google logo"})),l.a.createElement("div",{className:"btn__text"},"Register with Strava")))),l.a.createElement("div",{className:"register__google registerItem"},l.a.createElement("button",{className:"register__btn google"},l.a.createElement("div",{className:"btn__logo"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/99c6b9ab576aa9e324980db26e5fc7c0/google-logo.png",alt:"google logo"})),l.a.createElement("div",{className:"btn__text"},"Register with Google"))),l.a.createElement("div",{className:"register__separator"},l.a.createElement("div",{className:"line"}),l.a.createElement("span",{className:"bold"},"Or"),l.a.createElement("div",{className:"line"})),l.a.createElement("div",{className:"register__mail registerItem"},l.a.createElement("button",{className:"register__btn mail",onClick:function(){e.push("/register")}},l.a.createElement("div",{className:"btn__logo"},l.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/561/561127.svg",alt:"google logo"})),l.a.createElement("div",{className:"btn__text"},"Create an account"))))),l.a.createElement("div",{className:"landing__team"},l.a.createElement("h2",{className:"team__title"},"Meet the team"),l.a.createElement("div",{className:"team__members"},l.a.createElement("div",{className:"members__item"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53b05ec814da84c46afcea/f2f116196437dddbc62dc5dff303f654/mou.jfif",alt:"member img",className:"member__img member__img--mou"}),l.a.createElement("div",{className:"member__info"},l.a.createElement("p",{className:"member__name"},"Mourad Mounim"),l.a.createElement("p",{className:"member__desc"},'"The runner"'))),l.a.createElement("div",{className:"members__separator mobile"}),l.a.createElement("div",{className:"members__item"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53b05ec814da84c46afcea/e58df585979e8a973502d3aedd008570/gerard.jfif",alt:"member img",className:"member__img"}),l.a.createElement("div",{className:"member__info"},l.a.createElement("p",{className:"member__name"},"Gerard Ramon"),l.a.createElement("p",{className:"member__desc"},'"The biker"'))))),l.a.createElement("div",{className:"landing__footer"},l.a.createElement("p",null,"Copyright \xa9 bikUP")))},p=t(1),b=t.n(p),_=t(3),g=t(14),E=t(15),f=t(18),k=t(17),N="LOAD_USER_BIKE_LIST",v="LOAD_BIKE_BY_ID",h="LOAD_COMPO_BY_ID",y="LOGIN_USER_STRAVA",w="CREATE_USER_MAIL",C="LOGIN_USER_MAIL",B="CHECK_CORRECT_USER",x="CREATE_NEW_BIKE",S="DELETE_BIKE",M="ADD_WORKOUT",T="ADD_NEW_COMPO",O="RESET_COMPO",L="DELETE_COMPO",I="STRAVA_LOAD_BIKE_LIST_INFO",D=new(t(35).Dispatcher),j=t(16),A=t(6),U=t.n(A);function F(e){if(e){var a={params:{bikeUserId:e}};return U.a.get("/api/bikes",a).then((function(e){D.dispatch({type:N,data:e.data})}))}return console.log("[loadUserBikeList] - userId param is required"),!1}function J(e){if(sessionStorage.authUser){var a={newBikeInfo:e,_id:JSON.parse(sessionStorage.authUser)._id};return U.a.post("/api/crud/bike",a).then((function(e){D.dispatch({type:x,data:e.data})}))}console.log("User is not auth")}function z(){if(sessionStorage.actualBike){var e={bikeId:JSON.parse(sessionStorage.actualBike)._id};return U.a.put("/api/crud/bike/delete",e).then((function(e){D.dispatch({type:S,data:e.data})}))}console.log("There is no loaded bike")}function P(e,a){if(sessionStorage.actualBike){var t={bikeId:JSON.parse(sessionStorage.actualBike)._id,bikeInfo:e,isNameChanged:a};return U.a.put("/api/crud/bike/edit",t).then((function(e){D.dispatch({type:S,data:e.data})}))}console.log("There is no loaded bike")}function R(e){if(sessionStorage.actualBike){var a=JSON.parse(sessionStorage.actualBike)._id,t=e.bikeTotalMeters,n=e.bikeTotalMinutes,l=e.workoutMeters,s=e.workoutTotalMinutes,c={bikeId:a,bikeInfo:{bikeTotalMeters:t,bikeTotalMinutes:n},workoutInfo:{workoutMeters:l,workoutTotalMinutes:s}};return U.a.put("/api/crud/bike/add-workout",c).then((function(e){if(e.data){var a=JSON.parse(sessionStorage.actualBike);a.bikeTotalMeters=t,a.bikeTotalMinutes=n,a.bikeComponentList.forEach((function(e){e.compoAccumulatedMeters+=l,e.compoAccumulatedMinutes+=s})),sessionStorage.actualBike=JSON.stringify(a)}D.dispatch({type:M,data:e.data})}))}console.log("There is no loaded bike")}function K(e,a){var t={bikeList:e,stravaAccessToken:a};return U.a.post("/api/crud/bike/stravaBikeInfo",t).then((function(e){D.dispatch({type:I,data:e.data})}))}var G=null,q=!1,H=new(function(e){Object(f.a)(t,e);var a=Object(k.a)(t);function t(){return Object(g.a)(this,t),a.apply(this,arguments)}return Object(E.a)(t,[{key:"addChangeListener",value:function(e){this.on("change",e)}},{key:"removeChangeListener",value:function(e){this.removeListener("change",e)}},{key:"emitChange",value:function(){this.emit("change")}},{key:"getAuthUser",value:function(){return G}},{key:"isUserAuth",value:function(){return q}}]),t}(j.EventEmitter));D.register(function(){var e=Object(_.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.type,e.next=e.t0===y?3:e.t0===C?10:e.t0===w?14:e.t0===B?18:21;break;case 3:if((G=a.data)&&(sessionStorage.authUser=JSON.stringify(G)),!G.bikeList){e.next=8;break}return e.next=8,K(G.bikeList,G.stravaAccessToken);case 8:return H.emitChange(),e.abrupt("break",23);case 10:return(G=a.data)&&(sessionStorage.authUser=JSON.stringify(G)),H.emitChange(),e.abrupt("break",23);case 14:return G=a.data,sessionStorage.authUser=JSON.stringify(G),H.emitChange(),e.abrupt("break",23);case 18:return q=a.data,H.emitChange(),e.abrupt("break",23);case 21:return console.log("There is no action with type: ".concat(a.type)),e.abrupt("break",23);case 23:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());var W=H;function V(e){return U.a.post("/api/auth/mail",e).then((function(e){D.dispatch({type:w,data:e.data})}))}function $(e,a){var t={params:{email:e,password:a}};return U.a.get("/api/auth/login/mail",t).then((function(e){D.dispatch({type:C,data:e.data})}))}function Y(){if(sessionStorage.authUser){var e={userId:JSON.parse(sessionStorage.authUser)._id};return U.a.post("/api/auth/check",e).then((function(e){D.dispatch({type:B,data:e.data})}))}D.dispatch({type:B,data:!1})}t(68);var X=function(){var e=Object(r.f)();function a(){return{emailInputElement:document.getElementsByClassName("login__email")[0],passwordInputElement:document.getElementsByClassName("login__password")[0],submitButtonElement:document.getElementsByClassName("login__submitbutton")[0],loadingElement:document.getElementsByClassName("loading")[0],noLoadingElement:document.getElementsByClassName("no-loading")[0],warningMessageElement:document.getElementsByClassName("login__warning")[0]}}function t(e){e.emailInputElement.disabled=!0,e.passwordInputElement.disabled=!0,e.submitButtonElement.disabled=!0,e.loadingElement.style.display="flex",e.noLoadingElement.style.display="none"}function n(e){e.emailInputElement.disabled=!1,e.passwordInputElement.disabled=!1,e.submitButtonElement.disabled=!1,e.loadingElement.style.display="none",e.noLoadingElement.style.display="flex"}function s(){return c.apply(this,arguments)}function c(){return(c=Object(_.a)(b.a.mark((function l(){var s,c,r;return b.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,s=a(),c=s.emailInputElement.value,r=s.passwordInputElement.value,!c||!r){l.next=10;break}return t(s),l.next=8,$(c,r);case 8:W.getAuthUser()?e.replace("/bikes"):(s.warningMessageElement.innerHTML="Wrong email or password",n(s));case 10:l.next=15;break;case 12:l.prev=12,l.t0=l.catch(0),console.log(l.t0);case 15:case"end":return l.stop()}}),l,null,[[0,12]])})))).apply(this,arguments)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"landing__header desktop"},l.a.createElement(i.b,{to:"/",className:"header__linkhome"},l.a.createElement("img",{className:"logo",src:"https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png",alt:"logo"}),l.a.createElement("p",{className:"appName"},"bikUP")),l.a.createElement("div",{className:"flex-spacer"})),l.a.createElement("div",{className:"register__upper mobile"},l.a.createElement(i.b,{to:"/"},l.a.createElement("img",{src:"https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png",alt:"bikup logo",className:"register__logo"})),l.a.createElement(i.b,{to:"/",className:"register__bikup"},"bikUP")),l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"login__container"},l.a.createElement("h1",null,"Log In"),l.a.createElement("form",{action:"",className:"login__form",method:"POST"},l.a.createElement("label",{htmlFor:"email",className:"input__label"},"Email"),l.a.createElement("input",{type:"email",className:"login__email login__input",name:"email"}),l.a.createElement("label",{htmlFor:"password",className:"input__label"},"Password"),l.a.createElement("input",{type:"password",className:"login__password login__input",name:"password"}),l.a.createElement("div",{className:"login__warning "}),l.a.createElement("div",{className:"form__bottom"},l.a.createElement(i.b,{to:"/register"},"Create an account"),l.a.createElement("div",{className:"flex-spacer"}),l.a.createElement("button",{className:"login__submitbutton",type:"submit",onClick:function(e){e.preventDefault(),s()},onKeyUp:function(e){e.preventDefault(),13===e.keyCode&&s()}},l.a.createElement("div",{className:"loading hidden"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif",alt:"loading...",className:"loading__img"}),l.a.createElement("p",null,"Loading")),l.a.createElement("div",{className:"no-loading",Create:!0,Account:!0},"Log In")))),l.a.createElement("div",{className:"register__separator"},l.a.createElement("div",{className:"line"}),l.a.createElement("span",{className:"bold"},"Or"),l.a.createElement("div",{className:"line"})),l.a.createElement("div",{className:"login__external"},l.a.createElement("button",{className:"register__btn strava"},l.a.createElement("a",{href:d,className:"button__anchor button__anchor--strava"},l.a.createElement("div",{className:"btn__logo"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/2f6af477333d585dfbfc19a14da9f857/strava-2.svg",alt:"google logo"})),l.a.createElement("div",{className:"btn__text"},"Login with Strava"))),l.a.createElement("button",{className:"register__btn google"},l.a.createElement("div",{className:"btn__logo"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/99c6b9ab576aa9e324980db26e5fc7c0/google-logo.png",alt:"google logo"})),l.a.createElement("div",{className:"btn__text"},"Login with Google"))))))};t(69);var Z=function(){var e=Object(r.f)();function a(){return{emailInputElement:document.getElementsByClassName("register__email")[0],passwordInputElement:document.getElementsByClassName("register__password")[0],repeatInputElement:document.getElementsByClassName("register__repeat-password")[0],submitButtonElement:document.getElementsByClassName("form-register__button")[0],loadingElement:document.getElementsByClassName("loading")[0],noLoadingElement:document.getElementsByClassName("no-loading")[0],warningMessageElement:document.getElementsByClassName("login__warning")[0]}}function t(e){e.emailInputElement.disabled=!0,e.passwordInputElement.disabled=!0,e.repeatInputElement.disabled=!0,e.submitButtonElement.disabled=!0,e.loadingElement.style.display="flex",e.noLoadingElement.style.display="none"}function n(e){e.emailInputElement.disabled=!1,e.passwordInputElement.disabled=!1,e.repeatInputElement.disabled=!1,e.submitButtonElement.disabled=!1,e.loadingElement.style.display="none",e.noLoadingElement.style.display="flex"}function s(){return(s=Object(_.a)(b.a.mark((function l(){var s,c,r,i,o,m;return b.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(s=a(),c=s.emailInputElement.value,r=s.passwordInputElement.value,i=s.repeatInputElement.value,!(c&&r&&i)){l.next=15;break}if(r===i){l.next=9;break}s.warningMessageElement.innerHTML="Passwords must match",l.next=15;break;case 9:return t(s),o={email:c,password:r},l.next=13,V(o);case 13:"string"===typeof(m=W.getAuthUser())?(s.warningMessageElement.innerHTML=m,n(s)):e.replace("/bikes");case 15:case"end":return l.stop()}}),l)})))).apply(this,arguments)}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"landing__header desktop"},l.a.createElement(i.b,{to:"/",className:"header__linkhome"},l.a.createElement("img",{className:"logo",src:"https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png",alt:"logo"}),l.a.createElement("p",{className:"appName"},"bikUP")),l.a.createElement("div",{className:"flex-spacer"}),l.a.createElement(i.b,{to:"/login",className:"landing-header-login"},l.a.createElement("button",{className:"register__button--header"},"Log In"))),l.a.createElement("div",{className:"register__upper mobile"},l.a.createElement("img",{src:"https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png",alt:"bikup logo",className:"register__logo",onClick:function(){e.push("/")}}),l.a.createElement(i.b,{to:"/",className:"register__bikup"},"bikUP"),l.a.createElement("div",{className:"flex-spacer"}),l.a.createElement(i.b,{className:"login__button",to:"/login"},"Log In")),l.a.createElement("div",{className:"register"},l.a.createElement("div",{className:"register__container"},l.a.createElement("h1",null,"Create an account"),l.a.createElement("form",{name:"registerForm",action:"/api/auth/mail",className:"register__form",method:"POST"},l.a.createElement("label",{htmlFor:"email",className:"input__label",required:!0},"Email"),l.a.createElement("input",{type:"email",className:"register__email register__input",name:"email",placeholder:"Enter your email...",required:!0}),l.a.createElement("label",{htmlFor:"password",className:"input__label"},"Password"),l.a.createElement("input",{type:"password",className:"register__password register__input",name:"password",placeholder:"Enter your password...",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,12}$",required:!0}),l.a.createElement("label",{htmlFor:"repeat-password",className:"input__label"},"Repeat Password"),l.a.createElement("input",{type:"password",className:"register__repeat-password register__input",name:"repeat_password",placeholder:"Repeat the password...",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,12}$",required:!0,onChange:function(e){e.preventDefault(),function(){var e=document.getElementsByClassName("register__password")[0].value,a=document.getElementsByClassName("register__repeat-password")[0].value;document.getElementsByClassName("login__warning")[0].innerHTML=e===a?"":"Passwords must match"}()}}),l.a.createElement("div",{className:"login__warning "}),l.a.createElement("div",{className:"register__form__bottom"},l.a.createElement("button",{className:"form-register__button",type:"submit",onClick:function(e){e.preventDefault(),function(){s.apply(this,arguments)}()}},l.a.createElement("div",{className:"loading hidden"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif",alt:"loading...",className:"loading__img"}),l.a.createElement("p",null,"Loading...")),l.a.createElement("div",{className:"no-loading",Create:!0,Account:!0},"Create an account")))),l.a.createElement("div",{className:"register__separator"},l.a.createElement("div",{className:"line"}),l.a.createElement("span",{className:"bold"},"Or"),l.a.createElement("div",{className:"line"})),l.a.createElement("div",{className:"register__external"},l.a.createElement("button",{className:"register__btn strava"},l.a.createElement("div",{className:"btn__logo"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/2f6af477333d585dfbfc19a14da9f857/strava-2.svg",alt:"google logo"})),l.a.createElement("div",{className:"btn__text"},"register with Strava")),l.a.createElement("button",{className:"register__btn google"},l.a.createElement("div",{className:"btn__logo"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53a18bf970328231db4f61/99c6b9ab576aa9e324980db26e5fc7c0/google-logo.png",alt:"google logo"})),l.a.createElement("div",{className:"btn__text"},"register with Google"))))))},Q=t(10);t(70);var ee=function(e){var a=Object(n.useState)(W.getAuthUser()),t=Object(Q.a)(a,2),s=t[0],c=t[1],i=Object(r.f)(),o=new URLSearchParams(window.location.search).get("code");function m(){c(W.getAuthUser())}return Object(n.useEffect)((function(){W.addChangeListener(m),s?i.replace("/bikes"):function(e){var a={authCode:e};if(sessionStorage.authUser){var t=JSON.parse(sessionStorage.authUser)._id;a.userId=t}U.a.post("/api/auth/strava",a).then((function(e){sessionStorage.authUser=JSON.stringify(e.data),D.dispatch({type:y,data:e.data})}))}(o)})),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"auth__header"},l.a.createElement("img",{className:"auth__logo",src:"https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png",alt:"logo"}),l.a.createElement("p",{className:"auth__appName"},"bikUP"),l.a.createElement("div",{className:"flex-spacer"})),l.a.createElement("div",{className:"auth__loading"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/25b7845da50467b914bf64c612ba27eb/Spinner-1s-200px.gif",alt:"loading gif",className:"auth__loading-img"}),l.a.createElement("p",null,"Loading account details... This could take a minute")))};t(71),t(72);var ae=function(){var e=Object(r.f)();function a(){sessionStorage.clear(),e.replace("/")}var t=[{text:"Logout",callback:a,image:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5a496d520b7b130a5d4819/7f0d35433cdacef755bec9d18cbcce2c/logout.png"}];return window.addEventListener("mouseup",(function(e){var a=document.getElementsByClassName("mobile__menu")[0];e.target!=a&&e.target.parentNode!=a&&(a&&a.classList.remove("mobile__menu-show"),a&&a.classList.add("mobile__menu-hide"))})),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mobile__menu"},l.a.createElement("div",{className:"menu__decorator",onClick:function(){var e=document.getElementsByClassName("mobile__menu")[0];e.classList.remove("mobile__menu-show"),e.classList.add("mobile__menu-hide")}},l.a.createElement("div",{className:"decorator__line"})),l.a.createElement("ul",{className:"menu__list"},t.map((function(e){return l.a.createElement("li",{className:"menu__option",key:"menu-".concat(e.text),onClick:e.callback},l.a.createElement("img",{src:e.image,alt:e.text,className:"option__img"}),l.a.createElement("p",{className:"option__p"},e.text))})))),l.a.createElement("header",{className:"header"},l.a.createElement("div",{className:"header__mobile"},l.a.createElement("div",{className:"mobile__nav"},l.a.createElement("img",{className:"logo",src:"https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png",alt:"logo"}),[{text:"ExploreMobile",url:"/bikes",image:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53d188f7827833bd79ef9b/214746d15b751953f02eb252fb879874/magnifying-glass.png"},{text:"MyBikesMobile",url:"/bikes",image:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53d188f7827833bd79ef9b/ca1db79d00b304cb995a7491f0ce71a0/bike.png"},{text:"ProfileMobile",url:"/user",image:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53d188f7827833bd79ef9b/e60b6c14d78fa03c5a1ae02b95f9cbca/user.png"}].map((function(e){return l.a.createElement(i.b,{to:e.url,key:e.text,activeClassName:"active--mobile"},l.a.createElement("img",{src:e.image,alt:e.text,className:"nav__item"}))})),l.a.createElement("img",{className:"nav__menu",src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f53d188f7827833bd79ef9b/ea9ccf0f7a5fe6c8d066bb89f204f504/open-menu.png",alt:"menu",onClick:function(){var e=document.getElementsByClassName("mobile__menu")[0];e.style.display="block",e.classList.remove("mobile__menu-hide"),e.classList.add("mobile__menu-show")}}))),l.a.createElement("div",{className:"header__desktop"},l.a.createElement("img",{className:"logo",src:"https://cdn.discordapp.com/attachments/692420285143711814/693437226146594876/LogoGerili.png",alt:"logo"}),l.a.createElement("p",{className:"appName"},"bikUP"),l.a.createElement("ul",{className:"header__navigation"},[{text:"My Bikes",url:"/bikes",image:""},{text:"Explore",url:"/search",image:""},{text:"Profile",url:"/user",image:""}].map((function(e){return l.a.createElement(i.b,{key:e.text,className:"navigation__item",activeClassName:"active-desktop",to:e.url},e.text)}))),l.a.createElement("div",{className:"flex-spacer"}),l.a.createElement("button",{className:"login__button login__button--header",onClick:a},"Log Out"))))},te=null;var ne=function(){var e=Object(n.useState)(),a=Object(Q.a)(e,2),t=a[0],s=a[1],c=Object(r.f)();function i(){return(i=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return m.apply(this,arguments)}function m(){return(m=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:(te=W.isUserAuth())?(!0,t=JSON.parse(sessionStorage.authUser)):c.replace("/login");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){(te=W.isUserAuth())&&s(t=JSON.parse(sessionStorage.authUser))}Object(n.useEffect)((function(){W.addChangeListener(d),function(){i.apply(this,arguments)}()}),[te]);var u=l.a.createElement("img",{className:"strava__connect-btn",src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f4f63b8021a9d482184baf2/3cca3ad9320164155dfbb9d09ff7982f/btn_strava_connectwith_orange%402x.png",alt:"connect with strava"}),p=l.a.createElement("p",{className:"connected"},"Connected with Strava");return t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ae,null),l.a.createElement("div",{className:"general-container"},l.a.createElement("div",{className:"profile"},l.a.createElement("div",{className:"profile__container"},l.a.createElement("div",{className:"profile__picture"},l.a.createElement("img",{className:"picture__img",src:t.profilePicture,alt:"User profile picture"})),l.a.createElement("div",{className:"profile__main"},l.a.createElement("h3",{className:"main__username"},t.username),l.a.createElement("div",{className:"main__info"},l.a.createElement("p",null,t.stravaAccessToken?p:u))),l.a.createElement("div",{className:"profile__edit"},l.a.createElement("button",{className:"edit__button"},"Edit Profile"))))))||l.a.createElement("p",null,"loading...")},le={},se=[],ce={},re={},ie=null,oe=null,me=new(function(e){Object(f.a)(t,e);var a=Object(k.a)(t);function t(){return Object(g.a)(this,t),a.apply(this,arguments)}return Object(E.a)(t,[{key:"addChangeListener",value:function(e){this.on("change",e)}},{key:"removeChangeListener",value:function(e){this.removeListener("change",e)}},{key:"emitChange",value:function(){this.emit("change")}},{key:"setBikeList",value:function(e){se=e}},{key:"getBikeList",value:function(){return se}},{key:"setBikeDetail",value:function(e){le=e}},{key:"getBikeDetail",value:function(){return le}},{key:"setCompoDetail",value:function(e){ce=e}},{key:"getCompoDetail",value:function(){return ce}},{key:"setNewBike",value:function(e){re=e}},{key:"getNewBike",value:function(){return re}},{key:"setIsBikeModified",value:function(e){ie=e}},{key:"isBikeModified",value:function(){return ie}},{key:"setIsCompoModified",value:function(e){oe=e}},{key:"isCompoModified",value:function(){return oe}}]),t}(j.EventEmitter));D.register((function(e){switch(e.type){case v:me.setBikeDetail(e.data),me.emitChange();break;case N:me.setBikeList(e.data),me.emitChange();break;case h:me.setCompoDetail(e.data),me.emitChange();break;case x:me.setNewBike(e.data),me.emitChange();break;case S:case M:me.setIsBikeModified(e.data),me.emitChange();break;case T:me.setCompoDetail(e.data),me.emitChange();break;case O:case L:me.setIsCompoModified(e.data),me.emitChange();break;case I:e.data&&Object.entries(e.data).forEach((function(e){J(e[1])}));break;default:console.log("There is no action with type: ".concat(e.type))}}));var de=me;t(73);var ue=function(){return l.a.createElement("div",{className:"standardaside"},l.a.createElement("div",{className:"standardaside__card-container"},l.a.createElement("h3",{className:"title"},"Challenges"),l.a.createElement("div",{className:"standardaside__card"},[{name:"BIrlfriend",description:"Travel 5000km with a bike"},{name:"CompoManiac",description:"Change the same component 3 times"}].map((function(e){return l.a.createElement("div",{key:e.name},l.a.createElement("div",{className:"challenges__item"},l.a.createElement("div",{className:"item__title"},l.a.createElement("img",{className:"title__img",src:"https://image.flaticon.com/icons/svg/3112/3112946.svg",alt:"trophy"}),"- ",e.name," -"),l.a.createElement("p",null,e.description)),l.a.createElement("div",{className:"separator"}))})))),l.a.createElement("div",{className:"standardaside__card-container"},l.a.createElement("h3",{className:"title"},"Give Away"),l.a.createElement("div",{className:"standardaside__card"},l.a.createElement("p",null,"something free"))))},pe=t(36);t(74);var be=function(e){var a=e.bikeInfo,t=null;return a.bikeComponentList&&(t=function(e){var a=e.map((function(e){var a=function(e){var a=e.compoLife;return e.compoAccumulatedMeters/a}(e);return Object(pe.a)({},e.compoType,a)}));return a.sort((function(e,a){return Object.values(a)[0]-Object.values(e)[0]})),e.find((function(e){return e.compoType===Object.keys(a[0])[0]}))}(a.bikeComponentList)),t&&l.a.createElement("div",{className:"bikecard__container"},l.a.createElement("div",{className:"bikecard"},l.a.createElement("div",{className:"bikecard__top"},l.a.createElement("p",{className:"top__name"},a.bikeName),l.a.createElement("p",{className:"top__km"},Math.round(a.bikeTotalMeters/1e3)," Km")),l.a.createElement("div",{className:"bikecard__separator"}),l.a.createElement("div",{className:"bikecard__repair"},l.a.createElement("div",{className:"repair__labbels"},l.a.createElement("p",null,"Check Soon"),l.a.createElement("p",{className:"labbels__value"},"(",Math.round(t.compoAccumulatedMeters/1e3)," ","/",t.compoLife/1e3," Km)")),l.a.createElement("div",{className:"repair__progress"},l.a.createElement("p",{className:"displayName"},t.compoDisplayName),l.a.createElement("progress",{id:"bikecard_progress",value:t.compoAccumulatedMeters/1e3,max:t.compoLife/1e3}))),l.a.createElement("div",{className:"bikecard__bottom"},l.a.createElement("div",{className:"bottom__likes"},l.a.createElement("img",{className:"likes__img",src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f4f9c254b020643891c14bc/90b81067b9d4a63e2284da24c9994e7f/heart.png",alt:"likes"}),l.a.createElement("span",{className:"likes__count"},a.bikeLikes)),l.a.createElement("div",{className:"bottom__details"},l.a.createElement(i.b,{className:"details__button",to:"/bikes/".concat(a.bikeName.replace(/ /g,"")),onClick:function(){return a._id,void(sessionStorage.actualBike=JSON.stringify(a))}},"Go to Bike")))))||l.a.createElement("p",null,"Oops! We couldn't load ",a.bikeName,"...")},_e=(t(75),null),ge="";var Ee=function(e){var a=Object(n.useState)([]),t=Object(Q.a)(a,2),s=t[0],c=t[1],o=Object(n.useState)(),m=Object(Q.a)(o,2),u=m[0],p=m[1],g=Object(r.f)();function E(){return(E=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return k.apply(this,arguments)}function k(){return(k=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:(_e=W.isUserAuth())?(!0,ge=JSON.parse(sessionStorage.authUser)._id):g.replace("/login");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){c(de.getBikeList())}function v(){(_e=W.isUserAuth())&&(ge=JSON.parse(sessionStorage.authUser)._id,p(JSON.parse(sessionStorage.authUser)),F(ge))}Object(n.useEffect)((function(){!function(){E.apply(this,arguments)}(),de.addChangeListener(N),W.addChangeListener(v),0===s.length&&F(ge);return function(){de.removeChangeListener(N),W.removeChangeListener(v)}}),[_e]);var h=l.a.createElement("a",{href:d},l.a.createElement("img",{className:"strava__connect-btn",src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f4f63b8021a9d482184baf2/3cca3ad9320164155dfbb9d09ff7982f/btn_strava_connectwith_orange%402x.png",alt:"connect with strava"})),y=l.a.createElement("p",{className:"connected"},"Connected with Strava");return s&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ae,null),l.a.createElement("div",{className:"bikelist"},l.a.createElement("div",{className:"bikelist__content"},l.a.createElement("div",{className:"bikelist__top"},l.a.createElement("h2",null,"Your Bikes"),u&&(u.stravaAccessToken?y:h),l.a.createElement(i.b,{className:"bikelist__add--desktop desktop",to:"/bikes/new-bike"},"+ Add new bike")),l.a.createElement("div",{className:"bikelist__cards"},s.length>0?s.map((function(e){return l.a.createElement(be,{key:"bikelist-".concat(e.bikeName),bikeInfo:e})})):l.a.createElement("div",{className:"loadingscreen"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/25b7845da50467b914bf64c612ba27eb/Spinner-1s-200px.gif",alt:"loading gif",className:"loading__giff"}),l.a.createElement("p",{className:"bikelist__loading"},"Loading bike list..."),l.a.createElement("p",{className:"bikelist__nobikes hidden"},"Oops! Seems that you don't have any bike yet ",l.a.createElement("br",null),l.a.createElement("br",null),"Try adding a new one"))),l.a.createElement(i.b,{to:"/bikes/new-bike",className:"bikelist__add mobile"},"+ Add new bike")),l.a.createElement("div",{className:"bikelist__challenges-giveaways"},l.a.createElement(ue,null))))};t(76);var fe=function(e){var a=e.compoInfo,t=e.bikeName;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"compocard"},l.a.createElement("div",{className:"compocard__content"},l.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/2623/2623442.svg",alt:"compo img",className:"compocard__img"}),l.a.createElement("div",{className:"compocard__info"},l.a.createElement("div",{className:"compocard__labels"},l.a.createElement("p",null,a.compoDisplayName),l.a.createElement("p",{className:"labels__status"},"(",Math.round(a.compoAccumulatedMeters/1e3)," ","/",a.compoLife/1e3," Km)")),l.a.createElement("div",{className:"info__progressbar"},l.a.createElement("progress",{id:"progress",value:a.compoAccumulatedMeters/1e3,max:a.compoLife/1e3}))),l.a.createElement(i.b,{className:"compocard__button",onClick:function(){sessionStorage.actualCompo=JSON.stringify(a)},to:"/bikes/".concat(t.replace(/ /g,""),"/").concat(a.compoDisplayName.replace(/ /g,""))},l.a.createElement("img",{className:"button__img",src:"https://image.flaticon.com/icons/svg/271/271228.svg",alt:">"})))))},ke=(t(77),!1);var Ne=function(e){var a=Object(n.useState)({}),t=Object(Q.a)(a,2),s=t[0],c=t[1],o=Object(r.f)();function m(){return(m=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ke){e.next=3;break}return e.next=3,d();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return u.apply(this,arguments)}function u(){return(u=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:W.isUserAuth()||o.replace("/login"),ke=!0;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){c(JSON.parse(sessionStorage.actualBike))}function g(){document.getElementsByClassName("float__button")[0].style.visibility="visible",document.getElementsByClassName("darken__back")[0].style.display="none",document.getElementsByClassName("addworkout__container")[0].classList.remove("addworkout__container-shown"),document.getElementsByClassName("addworkout__container")[0].classList.add("addworkout__container-hidden")}function E(){return(E=Object(_.a)(b.a.mark((function e(){var a,t,n,l,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=1e3*document.getElementsByClassName("addworkout__km-input")[0].value,t=+document.getElementsByClassName("addworkout__hours-input")[0].value,n=+document.getElementsByClassName("addworkout__minutes-input")[0].value,c={workoutMeters:a,workoutTotalMinutes:l=60*t+n,bikeTotalMeters:s.bikeTotalMeters+a,bikeTotalMinutes:s.bikeTotalMinutes+l},e.next=7,R(c);case 7:g(),de.isBikeModified()||alert("We could not add your workout");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){return function(){m.apply(this,arguments)}(),de.addChangeListener(p),sessionStorage.actualBike&&c(JSON.parse(sessionStorage.actualBike)),function(){return de.removeChangeListener(p)}}),[ke]),s&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ae,null),l.a.createElement("div",{className:"general-container"},l.a.createElement("div",{className:"desktop"},l.a.createElement(ue,null)),l.a.createElement("div",{className:"bike-detail"},l.a.createElement("div",{className:"bike-detail__upper mobile"},l.a.createElement(i.b,{to:"/bikes"},"Back"),l.a.createElement(i.b,{to:"/bikes/".concat(s.bikeName,"/edit"),className:"upper__edit"},"Edit")),l.a.createElement("div",{className:"bike-detail__head"},l.a.createElement("div",{className:"head__container"},l.a.createElement(i.b,{to:"/bikes",className:"desktop"},"Back"),l.a.createElement("h2",{className:"head__bikename"},s.bikeName||"Your Bike"),l.a.createElement(i.b,{className:"desktop",to:"/bikes/".concat(s.bikeName,"/edit")},"Edit")),l.a.createElement("div",{className:"separator"}),l.a.createElement("div",{className:"bike-detail__km-hours"},l.a.createElement("div",{className:"km-hours km-hours__km"},l.a.createElement("p",{className:"km-hours__title"},"Total KM"),l.a.createElement("div",{className:"separator-small"}),l.a.createElement("p",{className:"km__value"},Math.round(s.bikeTotalMeters/1e3))),l.a.createElement("div",{className:"km-hours__hours km-hours"},l.a.createElement("p",{className:"km-hours__title"},"Total Hours"),l.a.createElement("div",{className:"separator-small"}),l.a.createElement("p",{className:"km-hours__value"},Math.floor(s.bikeTotalMinutes/60))),l.a.createElement("button",{className:"float__button",onClick:function(){document.getElementsByClassName("float__button")[0].style.visibility="hidden",document.getElementsByClassName("darken__back")[0].style.display="block",document.getElementsByClassName("addworkout__container")[0].classList.remove("addworkout__container-hidden"),document.getElementsByClassName("addworkout__container")[0].classList.add("addworkout__container-shown")}},"+ Workout"))),l.a.createElement("div",{className:"bike-detail__components"},s.bikeComponentList&&s.bikeComponentList.map((function(e){return l.a.createElement(fe,{key:"compo-".concat(e.compoDisplayName),compoInfo:e,bikeName:s.bikeName})}))),l.a.createElement("div",{className:"bike-detail__details"},l.a.createElement("div",{className:"details__content"},l.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/829/829906.svg",alt:"bike type",className:"details__type-img"}),l.a.createElement("div",{className:"details__info"},l.a.createElement("p",{className:"info__type"},s.bikeType),l.a.createElement("p",null,s.bikeBrand||"Unknown Brand"," ","-"," ",s.bikeModel||"Unknown Model"),l.a.createElement("p",null,"Driving Style:"," ",s.bikeDriveStyle)))),l.a.createElement("div",{className:"darken__back"}),l.a.createElement("div",{className:"addworkout__container"},l.a.createElement("div",{className:"addworkout__top"},l.a.createElement("div",{className:"flex-spacer"}),l.a.createElement("h3",null,"Add new workout"),l.a.createElement("div",{className:"flex-spacer"}),l.a.createElement("p",{className:"top__close",onClick:g},"X")),l.a.createElement("div",{className:"bikecard__separator"}),l.a.createElement("div",{className:"addworkout__km-container addworkout__element"},l.a.createElement("label",{htmlFor:"workoutKm",className:"addworkout__label"},"Distance (KM)"),l.a.createElement("input",{type:"number",name:"addworkout__km",className:"addworkout__km-input addworkout__input",defaultValue:"0",required:!0})),l.a.createElement("div",{className:"addworkout__time-container addworkout__element-double"},l.a.createElement("div",{className:"time__hours"},l.a.createElement("label",{htmlFor:"addworkout__hours",className:"addworkout__label"},"Hours"),l.a.createElement("input",{type:"number",name:"addworkout__hours",className:"addworkout__hours-input addworkout__input",defaultValue:"0",required:!0})),l.a.createElement("div",{className:"time__minutes"},l.a.createElement("label",{htmlFor:"addworkout__minutes",className:"addworkout__label"},"Minutes"),l.a.createElement("input",{type:"number",name:"addworkout__minutes",className:"addworkout__minutes-input addworkout__input",defaultValue:"0",required:!0}))),l.a.createElement("div",{className:"addworkout__bottom"},l.a.createElement("button",{className:"addworkout__button",onClick:function(){return E.apply(this,arguments)}},l.a.createElement("div",{className:"loading hidden"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif",alt:"loading...",className:"loading__img"}),l.a.createElement("p",null,"Loading")),l.a.createElement("div",{className:"no-loading",Create:!0,Account:!0},"Add new Workout")))))))};t(78);var ve=function(e){var a=e.compoInfo;return l.a.createElement("div",{className:"detailcompocard"},l.a.createElement("div",{className:"detailcompocard__content"},l.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/2623/2623442.svg",alt:"compo img",className:"detailcompocard__img"}),l.a.createElement("div",{className:"detailcompocard__info"},l.a.createElement("div",{className:"detailcompocard__labels"},l.a.createElement("p",null,a.compoDisplayName),l.a.createElement("p",{className:"labels__status"},"(",Math.round(a.compoAccumulatedMeters/1e3)," ","/",a.compoLife/1e3," Km)")),l.a.createElement("div",null,l.a.createElement("progress",{id:"progress_detail",value:a.compoAccumulatedMeters/1e3,max:a.compoLife/1e3})))))};t(79);function he(e){if(sessionStorage.actualBike){var a=JSON.parse(sessionStorage.actualBike),t={compoInfo:e,userId:a.bikeUserId,bikeId:a._id};return U.a.post("/api/crud/compo",t).then((function(e){var a=e.data,t=JSON.parse(sessionStorage.actualBike);t.bikeComponentList.push(a),sessionStorage.actualBike=JSON.stringify(t),D.dispatch({type:T,data:a})}))}console.log("There is no loaded bike")}function ye(){if(sessionStorage.actualCompo){var e={compoId:JSON.parse(sessionStorage.actualCompo)._id};return U.a.put("/api/crud/compo/reset",e).then((function(e){var a=JSON.parse(sessionStorage.actualCompo);a.compoAccumulatedMeters=0,a.compoAccumulatedMinutes=0,sessionStorage.actualCompo=JSON.stringify(a);var t=a._id,n=JSON.parse(sessionStorage.actualBike);n.bikeComponentList.forEach((function(e){e._id===t&&(e.compoAccumulatedMeters=0,e.compoAccumulatedMinutes=0)})),sessionStorage.actualBike=JSON.stringify(n),D.dispatch({type:O,data:e.data})}))}console.log("There is no loaded compo")}function we(){if(sessionStorage.actualCompo){var e=JSON.parse(sessionStorage.actualCompo)._id,a={compoId:e};return U.a.put("/api/crud/compo/delete",a).then((function(a){var t=JSON.parse(sessionStorage.actualBike);t.bikeComponentList=t.bikeComponentList.filter((function(a){return a._id!==e})),sessionStorage.actualBike=JSON.stringify(t),D.dispatch({type:L,data:a.data})}))}console.log("There is no loaded compo")}var Ce=!1;var Be=function(e){var a=Object(n.useState)({}),t=Object(Q.a)(a,2),s=t[0],c=t[1],o=Object(n.useState)({}),m=Object(Q.a)(o,2),d=m[0],u=m[1],p=Object(r.f)();function g(){return(g=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce){e.next=3;break}return e.next=3,E();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return f.apply(this,arguments)}function f(){return(f=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:W.isUserAuth()||p.replace("/login"),Ce=!0;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){c(JSON.parse(sessionStorage.actualCompo)),u(JSON.parse(sessionStorage.actualBike))}function N(){return v.apply(this,arguments)}function v(){return(v=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:de.isCompoModified()?k():alert("We could not reset your compo");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we();case 2:de.isCompoModified()?p.replace("/bikes/".concat(d)):alert("We could not delete your compo");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){g.apply(this,arguments)}(),sessionStorage.actualCompo&&sessionStorage.actualBike&&(c(JSON.parse(sessionStorage.actualCompo)),u(JSON.parse(sessionStorage.actualBike)))}),[Ce]),s&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ae,null),l.a.createElement("div",{className:"general-container"},l.a.createElement("div",{className:"desktop"},l.a.createElement(ue,null)),l.a.createElement("div",{className:"compodetail"},l.a.createElement("div",{className:"compodetail__upper mobile"},l.a.createElement(i.b,{to:"/bikes/".concat(d.bikeName)},"Back"),l.a.createElement("p",{className:"upper__edit"},"Edit")),l.a.createElement("div",{className:"compodetail__head"},l.a.createElement("div",{className:"head__container"},l.a.createElement(i.b,{to:"/bikes/".concat(d.bikeName),className:"desktop"},"Back"),l.a.createElement("h2",{className:"head__compoName"},d.bikeName," -"," ",s.compoDisplayName),l.a.createElement("button",{className:"compodetail__reset desktop",onClick:function(e){e.preventDefault(),N()}},"Reset Component")),l.a.createElement("div",{className:"separator"}),l.a.createElement("div",{className:"compodetail__km-hours"},l.a.createElement("div",{className:"km-hours km-hours__km"},l.a.createElement("p",{className:"km-hours__title"},"Total KM"),l.a.createElement("div",{className:"separator-small"}),l.a.createElement("p",{className:"km__value"},Math.round(s.compoAccumulatedMeters/1e3))),l.a.createElement("div",{className:"km-hours__hours km-hours"},l.a.createElement("p",{className:"km-hours__title"},"Total Hours"),l.a.createElement("div",{className:"separator-small"}),l.a.createElement("p",{className:"km-hours__value"},Math.floor(s.compoAccumulatedMinutes/60))))),l.a.createElement("div",{className:"compodetail__components"},l.a.createElement(ve,{compoInfo:s})),l.a.createElement("div",{className:"compodetail__details"},l.a.createElement("div",{className:"details__content"},l.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/2623/2623442.svg",alt:"bike type",className:"details__type-img"}),l.a.createElement("div",{className:"details__info"},l.a.createElement("p",{className:"info__type"},d.bikeName," -"," ",s.compoDisplayName),l.a.createElement("p",null,s.compoBrand||"Unknown brand"," ","-"," ",s.compoModel||"Unknown Model")))),l.a.createElement("button",{className:"compodetail__reset mobile",onClick:function(e){e.preventDefault(),N()}},"Reset Component"),l.a.createElement("button",{className:"compodetail__reset delete mobile",onClick:function(e){e.preventDefault(),function(){h.apply(this,arguments)}()}},"Delete Component"))))},xe=(t(80),[{value:"mountain",displayText:"Mountain Bike",image:""},{value:"road",displayText:"Road Bike",image:""},{value:"enduro_downhill",displayText:"Enduro / Downhill",image:""},{value:"gravel_cross",displayText:"Gravel / Cross",image:""}]),Se=[{value:"soft",displayText:"Soft",image:""},{value:"moderate",displayText:"Moderate",image:""},{value:"aggressive",displayText:"Aggressive",image:""}];function Me(){return{bikeNameElement:document.getElementsByClassName("newbikeform__bikename")[0],bikeTypeElement:document.getElementsByClassName("newbikeform__bikeType")[0],drivingStyleElement:document.getElementsByClassName("newbikeform__driveStyle")[0],bikeBrandElement:document.getElementsByClassName("newbikeform__bikeBrand")[0],bikeModelElement:document.getElementsByClassName("newbikeform__bikeModel")[0],warningElement:document.getElementsByClassName("newbikeform__warning")[0],submitButtonElement:document.getElementsByClassName("newbikeform__create-button")[0],loadingElement:document.getElementsByClassName("loading")[0],noLoadingElement:document.getElementsByClassName("no-loading")[0]}}function Te(e){Object.entries(e).forEach((function(e){"loadingElement"===e[0]&&"noLoadingElement"===e[0]||(e[1].disabled=!0)})),e.loadingElement.style.display="flex",e.noLoadingElement.style.display="none"}function Oe(e){Object.entries(e).forEach((function(a){"loadingElement"===a[0]&&"noLoadingElement"===a[0]||(a[1].disabled=!1),e.loadingElement.style.display="none",e.noLoadingElement.style.display="flex"}))}var Le=function(){var e=Object(r.f)();function a(){return(a=Object(_.a)(b.a.mark((function a(){var t,n,l,s,c,r,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(Te(t=Me()),n=t.bikeNameElement.value,l=t.bikeTypeElement.value,s=t.drivingStyleElement.value,c=t.bikeBrandElement.value,r=t.bikeModelElement.value,n){a.next=12;break}t.warningElement.innerHTML="A bike name is required",Oe(t),a.next=22;break;case 12:return i={bikeName:n,bikeType:l,bikeDriveStyle:s,bikeBrand:c,bikeModel:r},a.prev=13,a.next=16,J(i);case 16:de.getNewBike()?e.replace("/bikes"):(alert("We could not create the bike"),t.warningElement.innerHTML="We could not create the bike"),a.next=22;break;case 20:a.prev=20,a.t0=a.catch(13);case 22:case"end":return a.stop()}}),a,null,[[13,20]])})))).apply(this,arguments)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(ae,null),l.a.createElement("div",{className:"general-container"},l.a.createElement("div",{className:"newbikeform"},l.a.createElement("div",{className:"newbikeform__upper mobile"},l.a.createElement(i.b,{to:"/bikes"},"My bikes")),l.a.createElement("div",{className:"newbikeform-container"},l.a.createElement("h1",{className:"newbikeform__title"},"New bike"),l.a.createElement("form",{className:"newbikeform__form"},l.a.createElement("div",{className:"newbikeform__element"},l.a.createElement("label",{htmlFor:"bikename",className:"newbikeform__label"},"Bike Name"),l.a.createElement("input",{type:"text",name:"bikename",className:"newbikeform__bikename newbikeform__input",required:!0})),l.a.createElement("div",{className:"newbikeform__element"},l.a.createElement("label",{htmlFor:"bikeType",className:"newbikeform__label"},"Type"),l.a.createElement("select",{name:"bikeType",className:"newbikeform__bikeType newbikeform__input",required:!0},xe.map((function(e){return l.a.createElement("option",{value:e.value,key:e.value},e.displayText)})))),l.a.createElement("div",{className:"newbikeform__element"},l.a.createElement("label",{htmlFor:"bikeDriveStyle",className:"newbikeform__label"},"Driving Style"),l.a.createElement("select",{type:"text",name:"bikeDriveStyle",className:"newbikeform__driveStyle newbikeform__input",required:!0},Se.map((function(e){return l.a.createElement("option",{value:e.value,key:e.value},e.displayText)})))),l.a.createElement("div",{className:"newbikeform__element"},l.a.createElement("label",{htmlFor:"bikeBrand",className:"newbikeform__label"},"Brand"),l.a.createElement("input",{type:"text",name:"bikeBrand",className:"newbikeform__bikeBrand newbikeform__input"})),l.a.createElement("div",{className:"newbikeform__element"},l.a.createElement("label",{htmlFor:"bikeModel",className:"newbikeform__label"},"Model"),l.a.createElement("input",{type:"text",name:"bikeModel",className:"newbikeform__bikeModel newbikeform__input"})),l.a.createElement("div",{className:"newbikeform__element"},l.a.createElement("p",{className:"newbikeform__warning"})),l.a.createElement("button",{className:"newbikeform__create-button",onClick:function(e){e.preventDefault(),function(){a.apply(this,arguments)}()}},l.a.createElement("div",{className:"loading hidden"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif",alt:"loading...",className:"loading__img"}),l.a.createElement("p",null,"Loading")),l.a.createElement("div",{className:"no-loading",Create:!0,Account:!0},"Create Bike")))))))},Ie=(t(81),[{compoType:"chain",compoDisplayName:"Chain"},{compoType:"cassette",compoDisplayName:"Cassette"},{compoType:"chainRing",compoDisplayName:"Chain Ring"},{compoType:"frontTyre",compoDisplayName:"Front Tyre"},{compoType:"rearTyre",compoDisplayName:"Rear Tyre"},{compoType:"frontBrakePads",compoDisplayName:"Front brake pads"},{compoType:"rearBrakePads",compoDisplayName:"Rear brake pads"},{compoType:"rearDerailleur",compoDisplayName:"Rear derailleur"},{compoType:"frontDerailleur",compoDisplayName:"Front derailleur"}]);var De=function(e){var a=Object(r.f)();function t(){return{compoTypeElement:document.getElementsByClassName("main__compoType")[0],compoBrandElement:document.getElementsByClassName("newcompo__brand")[0],compoModelElement:document.getElementsByClassName("newcompo__model")[0],compoLifeElement:document.getElementsByClassName("newcompo__life")[0],warningElement:document.getElementsByClassName("login__warning")[0],buttonElement:document.getElementsByClassName("newcompo__createbutton")[0]}}function n(){document.getElementsByClassName("darken__back")[0].style.display="none",document.getElementsByClassName("newcompomodal")[0].classList.remove("newcompomodal-show"),document.getElementsByClassName("newcompomodal")[0].classList.add("newcompomodal-hide")}function s(){return(s=Object(_.a)(b.a.mark((function l(){var s,c,r,i,o,m;return b.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(s=t(),c=s.compoTypeElement.value,r=s.compoBrandElement.value,i=s.compoModelElement.value,o=1e3*s.compoLifeElement.value){l.next=9;break}s.warningElement.innerHTML="A compo life value is required",l.next=14;break;case 9:return m={compoType:c,compoBrand:r,compoModel:i,compoLife:o},l.next=12,he(m);case 12:de.getCompoDetail()?(n(),a.replace("/bikes/".concat(e))):alert("We could not create the new compo");case 14:case"end":return l.stop()}}),l)})))).apply(this,arguments)}return e&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"newcompo__container"},l.a.createElement("div",{className:"newcompo__top"},l.a.createElement("div",{className:"flex-spacer"}),l.a.createElement("h3",null,"Add new component"),l.a.createElement("div",{className:"flex-spacer"}),l.a.createElement("p",{className:"top__close",onClick:function(e){e.preventDefault(),n()}},"X")),l.a.createElement("div",{className:"newcompo__main"},l.a.createElement("label",{htmlFor:"compoType"},"Type"),l.a.createElement("select",{name:"compoType",className:"main__compoType newcompo__input"},Ie.map((function(e){return l.a.createElement("option",{value:e.compoType},e.compoDisplayName)}))),l.a.createElement("label",{htmlFor:"compoBrand"},"Brand"),l.a.createElement("input",{type:"text",name:"compoBrand",className:"newcompo__brand newcompo__input"}),l.a.createElement("label",{htmlFor:"compoModel"},"Model"),l.a.createElement("input",{type:"text",name:"compoModel",className:"newcompo__model newcompo__input"}),l.a.createElement("label",{htmlFor:"compoLife"},"Life (in Km)"),l.a.createElement("input",{type:"number",name:"compoLife",className:"newcompo__life newcompo__input"})),l.a.createElement("div",{className:"login__warning "}),l.a.createElement("div",{className:"newcompo__bottom"},l.a.createElement("button",{className:"newcompo__createbutton",onClick:function(e){e.preventDefault(),function(){s.apply(this,arguments)}()}},"Create Compo"))))},je=(t(82),[{value:"mountain",displayText:"Mountain Bike",image:""},{value:"road",displayText:"Road Bike",image:""},{value:"enduro_downhill",displayText:"Enduro / Downhill",image:""},{value:"gravel_cross",displayText:"Gravel / Cross",image:""}]),Ae=[{value:"soft",displayText:"Soft",image:""},{value:"moderate",displayText:"Moderate",image:""},{value:"aggressive",displayText:"Aggressive",image:""}];function Ue(){return{bikeNameElement:document.getElementsByClassName("editbike__bikename")[0],bikeTypeElement:document.getElementsByClassName("editbike__bikeType")[0],drivingStyleElement:document.getElementsByClassName("editbike__driveStyle")[0],bikeBrandElement:document.getElementsByClassName("editbike__bikeBrand")[0],bikeModelElement:document.getElementsByClassName("editbike__bikeModel")[0],bikeTotalKmElement:document.getElementsByClassName("editbike__totalKm")[0],bikeTotalHoursElement:document.getElementsByClassName("editbike__totalHours")[0],warningElement:document.getElementsByClassName("editbike__warning")[0],submitButtonElement:document.getElementsByClassName("editbike__create-button")[0],loadingElement:document.getElementsByClassName("loading")[0],noLoadingElement:document.getElementsByClassName("no-loading")[0]}}function Fe(e){Object.entries(e).forEach((function(e){"loadingElement"===e[0]&&"noLoadingElement"===e[0]||(e[1].disabled=!0)})),e.loadingElement.style.display="flex",e.noLoadingElement.style.display="none"}var Je=function(){var e=Object(r.f)(),a=null;function t(){return(t=Object(_.a)(b.a.mark((function t(){var n,l,s,c,r,i,o,m,d,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Ue(),l=n.bikeNameElement.value,s=n.bikeTypeElement.value,c=n.drivingStyleElement.value,r=n.bikeBrandElement.value,i=n.bikeModelElement.value,o=1e3*n.bikeTotalKmElement.value,m=60*n.bikeTotalHoursElement.value,l){t.next=12;break}n.warningElement.innerHTML="A bike name is required",t.next=26;break;case 12:return Fe(n),d=null,d=l!==a.bikeName,u={bikeName:l,bikeType:s,bikeDriveStyle:c,bikeBrand:r,bikeModel:i,bikeTotalMeters:o,bikeTotalMinutes:m},t.prev=16,t.next=19,P(u,d);case 19:de.isBikeModified()?e.replace("/bikes"):alert("There has been an error editing your bike"),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(16),n.warningElement.innerHTML="We could not edit the bike";case 26:case"end":return t.stop()}}),t,null,[[16,23]])})))).apply(this,arguments)}function n(){document.getElementsByClassName("darken__back")[0].style.display="block",document.getElementsByClassName("newcompomodal")[0].classList.remove("newcompomodal-hide"),document.getElementsByClassName("newcompomodal")[0].classList.add("newcompomodal-show")}function s(){return(s=Object(_.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(_.a)(b.a.mark((function a(){var t;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=window.confirm("Are you sure you want to delete this bike?"),a.t0=t,!a.t0){a.next=5;break}return a.next=5,z();case 5:de.isBikeModified()?e.replace("/bikes"):alert("There has been an error deleting your bike");case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return sessionStorage.actualBike&&(a=JSON.parse(sessionStorage.actualBike)),a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(ae,null),l.a.createElement("div",{className:"general-container"},l.a.createElement("div",{className:"editbike"},l.a.createElement("div",{className:"newbikeform__upper mobile"},l.a.createElement(i.b,{to:"/bikes"},"My bikes")),l.a.createElement("div",{className:"editbike__container"},l.a.createElement("h1",{className:"editbike__title"},"Edit Bike"),l.a.createElement("form",{className:"editbike__form"},l.a.createElement("div",{className:"editbike__element"},l.a.createElement("label",{htmlFor:"bikename",className:"editbike__label"},"Bike Name"),l.a.createElement("input",{type:"text",name:"bikename",className:"editbike__bikename editbike__input",defaultValue:a.bikeName,required:!0})),l.a.createElement("div",{className:"editbike__element"},l.a.createElement("label",{htmlFor:"bikeType",className:"editbike__label"},"Type"),l.a.createElement("select",{name:"bikeType",className:"editbike__bikeType editbike__input",defaultValue:a.bikeType,required:!0},je.map((function(e){return l.a.createElement("option",{value:e.value,key:e.value},e.displayText)})))),l.a.createElement("div",{className:"editbike__element"},l.a.createElement("label",{htmlFor:"bikeDriveStyle",className:"editbike__label"},"Driving Style"),l.a.createElement("select",{type:"text",name:"bikeDriveStyle",className:"editbike__driveStyle editbike__input",defaultValue:a.bikeDriveStyle,required:!0},Ae.map((function(e){return l.a.createElement("option",{value:e.value,key:e.value},e.displayText)})))),l.a.createElement("div",{className:"editbike__element"},l.a.createElement("label",{htmlFor:"bikeBrand",className:"editbike__label"},"Brand"),l.a.createElement("input",{type:"text",name:"bikeBrand",className:"editbike__bikeBrand editbike__input",defaultValue:a.bikeBrand})),l.a.createElement("div",{className:"editbike__element"},l.a.createElement("label",{htmlFor:"bikeModel",className:"editbike__label"},"Model"),l.a.createElement("input",{type:"text",name:"bikeModel",className:"editbike__bikeModel editbike__input",defaultValue:a.bikeModel})),l.a.createElement("div",{className:"editbike__element-double"},l.a.createElement("div",{className:"element-double__item"},l.a.createElement("label",{htmlFor:"bikeModel",className:"editbike__label"},"Total KM"),l.a.createElement("input",{type:"number",name:"bikeModel",className:"editbike__totalKm editbike__input",defaultValue:Math.round(a.bikeTotalMeters/1e3)})),l.a.createElement("div",{className:"element-double__item"},l.a.createElement("label",{htmlFor:"bikeModel",className:"editbike__label"},"Total hours"),l.a.createElement("input",{type:"number",name:"bikeModel",className:"editbike__totalHours editbike__input",defaultValue:Math.round(a.bikeTotalMinutes/60)}))),l.a.createElement("div",{className:"editbike__element"},l.a.createElement("p",{className:"editbike__warning"})),l.a.createElement("button",{className:"editbike__create-button",onClick:function(e){e.preventDefault(),function(){t.apply(this,arguments)}()}},l.a.createElement("div",{className:"loading hidden"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif",alt:"loading...",className:"loading__img"}),l.a.createElement("p",null,"Loading")),l.a.createElement("div",{className:"no-loading",Create:!0,Account:!0},"Save"))),l.a.createElement("div",{className:"register__separator"},l.a.createElement("div",{className:"line"}),l.a.createElement("span",{className:"bold"},"Or"),l.a.createElement("div",{className:"line"})),l.a.createElement("div",{className:"editbike__extra"},l.a.createElement("button",{className:"extra__addcompo-button editbike__create-button",onClick:function(e){e.preventDefault(),function(){s.apply(this,arguments)}()}},l.a.createElement("div",{className:"addcompo-loading hidden"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif",alt:"loading...",className:"loading__img"}),l.a.createElement("p",null,"Loading")),l.a.createElement("div",{className:"addcompo-no-loading"},"Add new compo")),l.a.createElement("button",{className:"extra__delete-button",onClick:function(e){e.preventDefault(),function(){c.apply(this,arguments)}()}},l.a.createElement("div",{className:"delete-loading hidden"},l.a.createElement("img",{src:"https://trello-attachments.s3.amazonaws.com/5f4cb639a6f5eb1005114de4/5f5753c458a8b552f891bb81/af512a8cb3c1285000d1191fdaaa670c/Spinner-1s-200px_(1).gif",alt:"loading...",className:"loading__img"}),l.a.createElement("p",null,"Loading")),l.a.createElement("div",{className:"delete-no-loading",Create:!0,Account:!0},"Delete this bike")))))),l.a.createElement("div",{className:"darken__back"}),l.a.createElement("div",{className:"newcompomodal"},l.a.createElement(De,{bikeName:a.bikeName})))};var ze=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.c,null,l.a.createElement(r.a,{path:"/",exact:!0,component:u}),l.a.createElement(r.a,{path:"/login",exact:!0,component:X}),l.a.createElement(r.a,{path:"/register",exact:!0,component:Z}),l.a.createElement(r.a,{path:"/auth/strava",exact:!0,component:ee}),l.a.createElement(r.a,{path:"/user",exact:!0,component:ne}),l.a.createElement(r.a,{path:"/bikes/new-bike",exact:!0,component:Le}),l.a.createElement(r.a,{path:"/bikes",exact:!0,component:Ee}),l.a.createElement(r.a,{path:"/bikes/:bikeId",exact:!0,component:Ne}),l.a.createElement(r.a,{path:"/bikes/:bikeId/edit",component:Je}),l.a.createElement(r.a,{path:"/bikes/:bikeId/:compoId",exact:!0,component:Be})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(i.a,null,l.a.createElement(ze,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.6bcebb1d.chunk.js.map